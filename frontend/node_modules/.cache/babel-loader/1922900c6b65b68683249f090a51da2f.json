{"remainingRequest":"/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/node_modules/babel-loader/lib/index.js!/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/src/components/StatisticsView/StatisticsView.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/src/components/StatisticsView/StatisticsView.js","mtime":1729750051983},{"path":"/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1729690872023},{"path":"/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/node_modules/babel-loader/lib/index.js","mtime":1729690872396},{"path":"/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/node_modules/eslint-loader/index.js","mtime":1729690872072}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnNvcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNwbGl0IjsKaW1wb3J0IGRhdGFTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZGF0YVNlcnZpY2UuanMiOwppbXBvcnQgcGlwZVNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9waXBlU2VydmljZS5qcyI7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKaW1wb3J0IHsgc2xpZGVyQm90dG9tLCBzbGlkZXJMZWZ0IH0gZnJvbSAnZDMtc2ltcGxlLXNsaWRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3RhdGlzdGljc1ZpZXcnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7fSwKICBjb21wdXRlZDoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0cm9rZV9jb2xvcjogIiNEMUIyNEQiLAogICAgICBub3JtYWxfY29sb3I6ICcjNWI1YjViJywKICAgICAgc2xpZGVyX2NvbG9yOiAnI0M5Q0JEMScsCiAgICAgIC8vYmV0dGVyX2NvbG9yOiAnIzViNWI1YicsCiAgICAgIC8vd29yc2VfY29sb3I6ICcjYzljOWM5JywKICAgICAgYmV0dGVyX2NvbG9yOiAnI0FEQzJCQycsCiAgICAgIHdvcnNlX2NvbG9yOiAnI2Y1Y2FjMycsCiAgICAgIHBhdGhfZGF0YTogbmV3IEFycmF5KCksCiAgICAgIHBhdHRlcm5fZGF0YTogbmV3IEFycmF5KCksCiAgICAgIHN0YXJ0X2ZsYWc6IDAsCiAgICAgIC8vY29sb3JfbGlzdDogWyIjQjZCNkM2IiwgIiNBREI5QzEiLCAiI0FGQjVBNCIsICIjRUZFOEJEIiwgIiNlOWQxYjQiLCAiI2QyYWFhMyJdLAogICAgICBjb2xvcl9saXN0OiBbIiM3NjhmODkiLCAiI2FkYjQ5ZiIsICIjRUZFOEJEIiwgIiNlOWQxYjQiLCAiI2RkYmNhYiIsICIjZDJhYWEzIl0sCiAgICAgIC8vIGNvbG9yX2xpc3Q6WyIjQjVCNUM1IiwgIiNFMkM5QjMiLCAiI0VDQzBDMCIsICIjQ0FENUMzIiwgIiM5Q0I4Q0QiLCAiI0UzQzZBOSJdLAogICAgICBjbGlja19wYXR0ZXJuOiAnJywKICAgICAgc3RhcnQ6ICIwIiwKICAgICAgZW5kOiAiMCIsCiAgICAgIHNvcnQ6ICIwIiwKICAgICAgdHlwZTogIjAiLAogICAgICBzdGFnZV9udW06IDYsCiAgICAgIHN0YWdlX3Jlb3JkZXI6IFtdLAogICAgICBwYXR0ZXJuX3RocmVzaG9sZDogMC4xCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy9jb25zb2xlLmxvZygic3RhcnQiLCBfdGhpcy5zdGFydCkKCgogICAgICB2YXIgc3RhcnRfdGVtcCA9IC0xOwogICAgICB2YXIgZW5kX3RlbXAgPSAtMTsKCiAgICAgIGlmIChfdGhpcy5zdGFydCAhPSAnMCcpIHsKICAgICAgICBzdGFydF90ZW1wID0gcGFyc2VJbnQoX3RoaXMuc3RhcnQuc3BsaXQoJyAnKVsxXSkgLSAxOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuZW5kICE9ICcwJykgewogICAgICAgIGVuZF90ZW1wID0gcGFyc2VJbnQoX3RoaXMuZW5kLnNwbGl0KCcgJylbMV0pIC0gMTsKICAgICAgfQoKICAgICAgdmFyIHJ1bGUgPSBbc3RhcnRfdGVtcCwgZW5kX3RlbXAsIHBhcnNlSW50KF90aGlzLnR5cGUpLCBwYXJzZUludChfdGhpcy5zb3J0KV07CiAgICAgICQoIi5wYXR0ZXJucmVzdWx0IikucmVtb3ZlKCk7CiAgICAgICQoIi5wYXR0ZXJuIikucmVtb3ZlKCk7CiAgICAgICQoIi5wYXRoIikucmVtb3ZlKCk7CgogICAgICBfdGhpcy5kcmF3RnJlcXVlbnRQYXR0ZXJuKDYsIF90aGlzLnBhdHRlcm5fZGF0YSwgX3RoaXMucGF0aF9kYXRhLCBydWxlKTsgLy/pnIDopoHku47liY3pnaLkvKBzdGFnZV9udW1iZXIKCgogICAgICBkMy5zZWxlY3QoIi5wcm9tcHRfNCIpLnJhaXNlKCk7CiAgICB9LAogICAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygiZW5kIiwgX3RoaXMuZW5kKTsKICAgICAgdmFyIHN0YXJ0X3RlbXAgPSAtMTsKICAgICAgdmFyIGVuZF90ZW1wID0gLTE7CgogICAgICBpZiAoX3RoaXMuc3RhcnQgIT0gJzAnKSB7CiAgICAgICAgc3RhcnRfdGVtcCA9IHBhcnNlSW50KF90aGlzLnN0YXJ0LnNwbGl0KCcgJylbMV0pIC0gMTsKICAgICAgfQoKICAgICAgaWYgKF90aGlzLmVuZCAhPSAnMCcpIHsKICAgICAgICBlbmRfdGVtcCA9IHBhcnNlSW50KF90aGlzLmVuZC5zcGxpdCgnICcpWzFdKSAtIDE7CiAgICAgIH0KCiAgICAgIHZhciBydWxlID0gW3N0YXJ0X3RlbXAsIGVuZF90ZW1wLCBwYXJzZUludChfdGhpcy50eXBlKSwgcGFyc2VJbnQoX3RoaXMuc29ydCldOwogICAgICAkKCIucGF0dGVybnJlc3VsdCIpLnJlbW92ZSgpOwogICAgICAkKCIucGF0dGVybiIpLnJlbW92ZSgpOwogICAgICAkKCIucGF0aCIpLnJlbW92ZSgpOwoKICAgICAgX3RoaXMuZHJhd0ZyZXF1ZW50UGF0dGVybihfdGhpcy5zdGFnZV9udW0sIF90aGlzLnBhdHRlcm5fZGF0YSwgX3RoaXMucGF0aF9kYXRhLCBydWxlKTsgLy/pnIDopoHku47liY3pnaLkvKBzdGFnZV9udW1iZXIKCgogICAgICBkMy5zZWxlY3QoIi5wcm9tcHRfNCIpLnJhaXNlKCk7CiAgICB9LAogICAgdHlwZTogZnVuY3Rpb24gdHlwZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJ0eXBlIiwgX3RoaXMudHlwZSk7CiAgICAgIHZhciBzdGFydF90ZW1wID0gLTE7CiAgICAgIHZhciBlbmRfdGVtcCA9IC0xOwoKICAgICAgaWYgKF90aGlzLnN0YXJ0ICE9ICcwJykgewogICAgICAgIHN0YXJ0X3RlbXAgPSBwYXJzZUludChfdGhpcy5zdGFydC5zcGxpdCgnICcpWzFdKSAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5lbmQgIT0gJzAnKSB7CiAgICAgICAgZW5kX3RlbXAgPSBwYXJzZUludChfdGhpcy5lbmQuc3BsaXQoJyAnKVsxXSkgLSAxOwogICAgICB9CgogICAgICB2YXIgcnVsZSA9IFtzdGFydF90ZW1wLCBlbmRfdGVtcCwgcGFyc2VJbnQoX3RoaXMudHlwZSksIHBhcnNlSW50KF90aGlzLnNvcnQpXTsKICAgICAgJCgiLnBhdHRlcm5yZXN1bHQiKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdHRlcm4iKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdGgiKS5yZW1vdmUoKTsKCiAgICAgIF90aGlzLmRyYXdGcmVxdWVudFBhdHRlcm4oX3RoaXMuc3RhZ2VfbnVtLCBfdGhpcy5wYXR0ZXJuX2RhdGEsIF90aGlzLnBhdGhfZGF0YSwgcnVsZSk7IC8v6ZyA6KaB5LuO5YmN6Z2i5Lygc3RhZ2VfbnVtYmVyCgoKICAgICAgZDMuc2VsZWN0KCIucHJvbXB0XzQiKS5yYWlzZSgpOwogICAgfSwKICAgIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygic29ydCIsIF90aGlzLnNvcnQpOwogICAgICB2YXIgc3RhcnRfdGVtcCA9IC0xOwogICAgICB2YXIgZW5kX3RlbXAgPSAtMTsKCiAgICAgIGlmIChfdGhpcy5zdGFydCAhPSAnMCcpIHsKICAgICAgICBzdGFydF90ZW1wID0gcGFyc2VJbnQoX3RoaXMuc3RhcnQuc3BsaXQoJyAnKVsxXSkgLSAxOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuZW5kICE9ICcwJykgewogICAgICAgIGVuZF90ZW1wID0gcGFyc2VJbnQoX3RoaXMuZW5kLnNwbGl0KCcgJylbMV0pIC0gMTsKICAgICAgfQoKICAgICAgdmFyIHJ1bGUgPSBbc3RhcnRfdGVtcCwgZW5kX3RlbXAsIHBhcnNlSW50KF90aGlzLnR5cGUpLCBwYXJzZUludChfdGhpcy5zb3J0KV07CiAgICAgICQoIi5wYXR0ZXJucmVzdWx0IikucmVtb3ZlKCk7CiAgICAgICQoIi5wYXR0ZXJuIikucmVtb3ZlKCk7CiAgICAgICQoIi5wYXRoIikucmVtb3ZlKCk7CgogICAgICBfdGhpcy5kcmF3RnJlcXVlbnRQYXR0ZXJuKF90aGlzLnN0YWdlX251bSwgX3RoaXMucGF0dGVybl9kYXRhLCBfdGhpcy5wYXRoX2RhdGEsIHJ1bGUpOyAvL+mcgOimgeS7juWJjemdouS8oHN0YWdlX251bWJlci0KCgogICAgICBkMy5zZWxlY3QoIi5wcm9tcHRfNCIpLnJhaXNlKCk7CiAgICB9LAogICAgc3RhcnRfZmxhZzogZnVuY3Rpb24gc3RhcnRfZmxhZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBydWxlID0gW3BhcnNlSW50KF90aGlzLnN0YXJ0LnNwbGl0KCcgJylbMV0pIC0gMSwgcGFyc2VJbnQoX3RoaXMuZW5kLnNwbGl0KCcgJylbMV0pIC0gMSwgcGFyc2VJbnQoX3RoaXMudHlwZSksIHBhcnNlSW50KF90aGlzLnNvcnQpXTsKCiAgICAgIGlmIChfdGhpcy5zdGFydF9mbGFnID09IDIpIHsKICAgICAgICBfdGhpcy5zdGFydF9mbGFnID0gMDsKCiAgICAgICAgX3RoaXMuZHJhd0ZyZXF1ZW50UGF0dGVybihfdGhpcy5zdGFnZV9udW0sIF90aGlzLnBhdHRlcm5fZGF0YSwgX3RoaXMucGF0aF9kYXRhLCBbLTEsIC0xLCAwLCAwXSk7IC8v6ZyA6KaB5LuO5YmN6Z2i5Lygc3RhZ2VfbnVtYmVyCgogICAgICB9CgogICAgICBkMy5zZWxlY3QoIi5wcm9tcHRfNCIpLnJhaXNlKCk7CiAgICB9LAogICAgY2xpY2tfcGF0dGVybjogZnVuY3Rpb24gY2xpY2tfcGF0dGVybigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5jbGlja19wYXR0ZXJuICE9ICdub25lJykgewogICAgICAgIHBpcGVTZXJ2aWNlLmVtaXRDbGlja1BhdGgoW190aGlzLmNsaWNrX3BhdHRlcm4sIF90aGlzLnBhdGhfZGF0YV0pOwogICAgICB9IGVsc2UgewogICAgICAgICQoJy5jbGlja2hpZ2hsaWdodCcpLmF0dHIoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7CiAgICAgIH0KCiAgICAgIGQzLnNlbGVjdCgiLnByb21wdF80IikucmFpc2UoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIi5wYXR0ZXJudmlld2Rpc3BsYXkiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgMjQwKS5hdHRyKCJoZWlnaHQiLCAyMDAwKS5hdHRyKCJjbGFzcyIsICJwYXR0ZXJudmlldyIpOwoKICAgIF90aGlzLmRyYXdMZWdlbmQoKTsKCiAgICBfdGhpcy5kcmF3U29ydExlZ2VuZCg2KTsgLy/pnIDopoHku47liY3pnaLkvKBzdGFnZV9udW1iZXIKCgogICAgX3RoaXMuZHJhd1Jlc3VsdFRpdGxlKCk7CgogICAgdmFyIGdfcHJvbXB0ID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoImNsYXNzIiwgInByb21wdF80IikuYXR0cigidmlzaWJpbGl0eSIsICJoaWRkZW4iKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDUsIDQwKSIpOwogICAgdmFyIHJlY3QgPSBnX3Byb21wdC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCd3aWR0aCcsIDIyNSkuYXR0cignaGVpZ2h0JywgMTY1KS5hdHRyKCdmaWxsJywgJ3doaXRlJykuYXR0cignc3Ryb2tlJywgJ2JsYWNrJykuYXR0cigneCcsIDApLmF0dHIoJ3knLCAwKTsKICAgIHZhciB0ZXh0ID0gZ19wcm9tcHQuYXBwZW5kKCd0ZXh0JykuYXR0cigneCcsIDEwKS5hdHRyKCd5JywgMTUpLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS5hdHRyKCdmb250LXNpemUnLCAnMTJweCcpOwogICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnVGhlIGZpcnN0IGVsZW1lbnQgaW4gZWFjaCByb3c6ICcpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDIwKTsKICAgIHRleHQuYXBwZW5kKCd0c3BhbicpLnRleHQoJyAgLSB0aGUgc3RhZ2Ugb3JkZXIgd2l0aGluIHRoZSBwYXR0ZXJuLicpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDM1KTsKICAgIHRleHQuYXBwZW5kKCd0c3BhbicpLnRleHQoJ1RoZSBzZWNvbmQgZWxlbWVudCBpbiBlYWNoIHJvdzogJykuYXR0cigneCcsIDEwKS5hdHRyKCd5JywgNTUpOwogICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnICAtIHRoZSBmcmVxdWVuY3kgb2YgdGhlIHBhdHRlcm4nKS5hdHRyKCd4JywgMTApLmF0dHIoJ3knLCA3MCk7CiAgICB0ZXh0LmFwcGVuZCgndHNwYW4nKS50ZXh0KCdUaGUgdGhpcmQgZWxlbWVudCBpbiBlYWNoIHJvdzogJykuYXR0cigneCcsIDEwKS5hdHRyKCd5JywgOTUpOwogICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnICAtIHRoZSBjaGFuZ2VzIGluIHRoZSBwb3NpdGl2ZScpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDExMCk7CiAgICB0ZXh0LmFwcGVuZCgndHNwYW4nKS50ZXh0KCcgIGFuZCBuZWdhdGl2ZSBkZWdyZWVzIG9mIGJlaGF2aW9yICcpLmF0dHIoJ3gnLCAxMykuYXR0cigneScsIDEyNSk7CiAgICB0ZXh0LmFwcGVuZCgndHNwYW4nKS50ZXh0KCcgc2VxdWVuY2VzIGJlZm9yZSBhbmQgYWZ0ZXInKS5hdHRyKCd4JywgMTYpLmF0dHIoJ3knLCAxNDApOwogICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnIHRoaXMgc3RhZ2UgcGF0dGVybi4nKS5hdHRyKCd4JywgMTMpLmF0dHIoJ3knLCAxNTUpOwogICAgcGlwZVNlcnZpY2Uub25QYXR0ZXJuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIC8vY29uc29sZS5sb2coJyoqKioqKnN0YXRpc3RpY3M6b25QYXR0ZXJuKioqKioqJywgZGF0YSkKICAgICAgdmFyIGRhdGFfbWFwID0gW190aGlzLmRpY01hcChkYXRhWzBdKSwgX3RoaXMubGlzdE1hcChkYXRhWzFdKV07CiAgICAgIF90aGlzLnBhdHRlcm5fZGF0YSA9IGRhdGFfbWFwOwogICAgICBfdGhpcy5zdGFydF9mbGFnID0gX3RoaXMuc3RhcnRfZmxhZyArIDE7CiAgICAgIGdfcHJvbXB0LnJhaXNlKCk7CiAgICB9KTsKICAgIHBpcGVTZXJ2aWNlLm9uUGF0aChmdW5jdGlvbiAoZGF0YSkgewogICAgICB2YXIgZGF0YV9tYXAgPSBfdGhpcy5kaWNNYXAoZGF0YSk7CgogICAgICBfdGhpcy5wYXRoX2RhdGEgPSBkYXRhX21hcDsKICAgICAgX3RoaXMuc3RhcnRfZmxhZyA9IF90aGlzLnN0YXJ0X2ZsYWcgKyAxOwogICAgICBnX3Byb21wdC5yYWlzZSgpOwogICAgfSk7CiAgICBwaXBlU2VydmljZS5vblBhdHRlcm5Ob25lKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLmNsaWNrX3BhdHRlcm4gPSAibm9uZSI7CiAgICAgIGdfcHJvbXB0LnJhaXNlKCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG51bWJlcjJsaXRlcmFsTWFwOiBmdW5jdGlvbiBudW1iZXIybGl0ZXJhbE1hcChzdGFnZSkgewogICAgICBpZiAoc3RhZ2UgPT0gMCkgewogICAgICAgIHJldHVybiAnYSc7CiAgICAgIH0KCiAgICAgIGlmIChzdGFnZSA9PSAxKSB7CiAgICAgICAgcmV0dXJuICdiJzsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDIpIHsKICAgICAgICByZXR1cm4gJ2MnOwogICAgICB9CgogICAgICBpZiAoc3RhZ2UgPT0gMykgewogICAgICAgIHJldHVybiAnZCc7CiAgICAgIH0KCiAgICAgIGlmIChzdGFnZSA9PSA0KSB7CiAgICAgICAgcmV0dXJuICdlJzsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDUpIHsKICAgICAgICByZXR1cm4gJ2YnOwogICAgICB9CiAgICB9LAogICAgbGlzdE1hcDogZnVuY3Rpb24gbGlzdE1hcChsc3QpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbHN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHRlbXBfdCA9IGxzdFtpXTsKICAgICAgICB2YXIgdGVtcF9uID0gJyc7CgogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVtcF90Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICB0ZW1wX24gKz0gX3RoaXMuc3RhZ2VNYXAocGFyc2VJbnQodGVtcF90W2pdKSkudG9TdHJpbmcoKTsKICAgICAgICB9CgogICAgICAgIHJlc3VsdC5wdXNoKHRlbXBfbik7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZGljTWFwOiBmdW5jdGlvbiBkaWNNYXAoZGljKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRpYyk7CiAgICAgIHZhciByZXN1bHQgPSB7fTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBrX3QgPSBrZXlzW2ldOwogICAgICAgIHZhciBrX24gPSAnJzsKCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrX3QubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGtfbiArPSBfdGhpcy5zdGFnZU1hcChwYXJzZUludChrX3Rbal0pKS50b1N0cmluZygpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0W2tfbl0gPSBkaWNba190XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBzdGFnZU1hcDogZnVuY3Rpb24gc3RhZ2VNYXAoc3RhZ2UpIHsKICAgICAgaWYgKHN0YWdlID09IDApIHsKICAgICAgICByZXR1cm4gMjsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDEpIHsKICAgICAgICByZXR1cm4gNDsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDIpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDMpIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDQpIHsKICAgICAgICByZXR1cm4gMzsKICAgICAgfQoKICAgICAgaWYgKHN0YWdlID09IDUpIHsKICAgICAgICByZXR1cm4gNTsKICAgICAgfQogICAgfSwKICAgIGRyYXdSZXN1bHRUaXRsZTogZnVuY3Rpb24gZHJhd1Jlc3VsdFRpdGxlKCkgewogICAgICAvLyDlhplsZWdlbmQKICAgICAgdmFyIHN2Z19zID0gZDMuc2VsZWN0KCIucGF0dGVybnZpZXdyZXN1bHQiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgMjQwKS5hdHRyKCJoZWlnaHQiLCAyNSk7CiAgICAgIHN2Z19zLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgMCkuYXR0cigid2lkdGgiLCAyMzYpLmF0dHIoImhlaWdodCIsIDIzKS5hdHRyKCJmaWxsIiwgIiM1YjViNWIiKS5hdHRyKCJvcGFjaXR5IiwgMC4xKTsKICAgICAgc3ZnX3MuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIDY3KS5hdHRyKCJ5IiwgMTcpLmF0dHIoImZvbnQtc2l6ZSIsIDE2KS50ZXh0KCJwYXR0ZXJuIHJlc3VsdCIpLmF0dHIoImZpbGwiLCAiYmxhY2siKTsKICAgIH0sCiAgICBkcmF3U29ydExlZ2VuZDogZnVuY3Rpb24gZHJhd1NvcnRMZWdlbmQoc3RhZ2VfbnVtYmVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIOWumuS5iWNvbG9yIG1hcAoKCiAgICAgIHZhciBkb21haW5feCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFnZV9udW1iZXI7IGkrKykgewogICAgICAgIGRvbWFpbl94LnB1c2goaSk7CiAgICAgIH0KCiAgICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpLmRvbWFpbihkb21haW5feCkucmFuZ2UoX3RoaXMuY29sb3JfbGlzdCk7IC8vIOWGmXNlbGVjdGlvbgoKICAgICAgdmFyIHN2Z19zID0gZDMuc2VsZWN0KCIjc2VsZWN0aW9uIikuYXBwZW5kKCJzdmciKS5hdHRyKCJ3aWR0aCIsIDI0MCkuYXR0cigiaGVpZ2h0IiwgMjUpOwogICAgICBzdmdfcy5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgMCkuYXR0cigieSIsIDApLmF0dHIoIndpZHRoIiwgMjM2KS5hdHRyKCJoZWlnaHQiLCAyMykuYXR0cigiZmlsbCIsICIjNWI1YjViIikuYXR0cigib3BhY2l0eSIsIDAuMSk7CiAgICAgIHN2Z19zLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCA1NSkuYXR0cigieSIsIDE3KS5hdHRyKCJmb250LXNpemUiLCAxNikudGV4dCgic2VsZWN0aW9uIHBhbm5lbCIpLmF0dHIoImZpbGwiLCAiYmxhY2siKTsgLy8g5YaZdGl0bGUKCiAgICAgIHZhciBzdmdfdGl0bGUgPSBkMy5zZWxlY3QoIiN0aXRsZSIpLmFwcGVuZCgic3ZnIikuYXR0cigid2lkdGgiLCAyMDApLmF0dHIoImhlaWdodCIsIDEwMCk7CiAgICAgIHN2Z190aXRsZS5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgMikuYXR0cigieSIsIDE3KS5hdHRyKCJmb250LXNpemUiLCAxNSkudGV4dCgic3RhcnQgc3RhZ2U6IikuYXR0cigiZmlsbCIsICJibGFjayIpOwogICAgICBzdmdfdGl0bGUuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIDIpLmF0dHIoInkiLCA0MikuYXR0cigiZm9udC1zaXplIiwgMTUpLnRleHQoImVuZCBzdGFnZToiKS5hdHRyKCJmaWxsIiwgImJsYWNrIik7CiAgICAgIHN2Z190aXRsZS5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgMikuYXR0cigieSIsIDY3KS5hdHRyKCJmb250LXNpemUiLCAxNSkudGV4dCgiZnJlcXVlbmN5IHR5cGU6IikuYXR0cigiZmlsbCIsICJibGFjayIpOwogICAgICBzdmdfdGl0bGUuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIDIpLmF0dHIoInkiLCA5MikuYXR0cigiZm9udC1zaXplIiwgMTUpLnRleHQoInNvcnQgcnVsZToiKS5hdHRyKCJmaWxsIiwgImJsYWNrIik7IC8vIOWumuS5iemAiemhueaVsOaNrgoKICAgICAgdmFyIGRhdGExID0gW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBsYWJlbDogIm5vbmUiLAogICAgICAgIGNvbG9yOiAibm9uZSIKICAgICAgfV07CgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc3RhZ2VfbnVtYmVyOyBfaSsrKSB7CiAgICAgICAgZGF0YTEucHVzaCh7CiAgICAgICAgICB2YWx1ZTogX2kgKyAxLAogICAgICAgICAgbGFiZWw6ICJzdGFnZSAiICsgKF9pICsgMSksCiAgICAgICAgICBjb2xvcjogY29sb3IoX2kpCiAgICAgICAgfSk7CiAgICAgIH0gLy8g55S7c3RhZ2XpgInmi6kKCgogICAgICB2YXIgc2VsZWN0ID0gZDMuc2VsZWN0KCIjc3RhcnQiKTsKCiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IDI7IF9pMisrKSB7CiAgICAgICAgaWYgKF9pMiA9PSAxKSB7CiAgICAgICAgICBzZWxlY3QgPSBkMy5zZWxlY3QoIiNlbmQiKTsKICAgICAgICB9IC8vIOe7keWumuaVsOaNruWIsDxvcHRpb24+5qCH562+5LiKCgoKICAgICAgICB2YXIgb3B0aW9ucyA9IHNlbGVjdC5zZWxlY3RBbGwoIm9wdGlvbiIpLmRhdGEoZGF0YTEpLmVudGVyKCkuYXBwZW5kKCJvcHRpb24iKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gZDsKICAgICAgICB9KTsKICAgICAgICBvcHRpb25zID0gc2VsZWN0LnNlbGVjdEFsbCgib3B0aW9uIikuZGF0YShkYXRhMSk7IC8vIOenu+mZpOaXp+eahDxvcHRpb24+5qCH562+CgogICAgICAgIG9wdGlvbnMuZXhpdCgpLnJlbW92ZSgpOyAvLyDmt7vliqDmlrDnmoQ8b3B0aW9uPuagh+etvgoKICAgICAgICBvcHRpb25zLmVudGVyKCkuYXBwZW5kKCJvcHRpb24iKS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gZC5sYWJlbDsKICAgICAgICB9KTsgLy8g5pu05paw546w5pyJ55qEPG9wdGlvbj7moIfnrb7nmoTmlofmnKwKCiAgICAgICAgb3B0aW9ucy50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gZC5sYWJlbDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRyYXdMZWdlbmQ6IGZ1bmN0aW9uIGRyYXdMZWdlbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCIucGF0dGVybnZpZXdoZWFkZXIiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgMTMyKS5hdHRyKCJoZWlnaHQiLCAyMCkuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCAwKSIpOwogICAgICB2YXIgZ19sZWdlbmQgPSBzdmcuYXBwZW5kKCdnJyk7CiAgICAgIGdfbGVnZW5kLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCA3KS5hdHRyKCJ5IiwgMykuYXR0cigid2lkdGgiLCAxMCkuYXR0cigiaGVpZ2h0IiwgMTApLmF0dHIoImZpbGwiLCBfdGhpcy5iZXR0ZXJfY29sb3IpOwogICAgICBnX2xlZ2VuZC5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgMTkpLmF0dHIoInkiLCAxMikuYXR0cigiZm9udC1zaXplIiwgMTMpLnRleHQoImdyb3VwMSIpOwogICAgICBnX2xlZ2VuZC5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgNjQpLmF0dHIoInkiLCAzKS5hdHRyKCJ3aWR0aCIsIDEwKS5hdHRyKCJoZWlnaHQiLCAxMCkuYXR0cigiZmlsbCIsIF90aGlzLndvcnNlX2NvbG9yKTsKICAgICAgZ19sZWdlbmQuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIDc2KS5hdHRyKCJ5IiwgMTIpLmF0dHIoImZvbnQtc2l6ZSIsIDEzKS50ZXh0KCJncm91cDIiKTsKICAgICAgZ19sZWdlbmQuYXBwZW5kKCJjaXJjbGUiKS5hdHRyKCJjeCIsIDEyNikuYXR0cigiY3kiLCA3KS5hdHRyKCJyIiwgNSkuYXR0cigiZmlsbCIsICJ3aGl0ZSIpLmF0dHIoInN0cm9rZSIsICJyZWQiKS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICQoIi5wcm9tcHRfNCIpLmF0dHIoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICB9KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgiLnByb21wdF80IikuYXR0cigidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgfSk7CiAgICAgIGdfbGVnZW5kLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCAxMjMpLmF0dHIoInkiLCAxMCkuYXR0cigiZm9udC1zaXplIiwgOCkudGV4dCgiPyIpLmF0dHIoImZpbGwiLCAiI2JjNGI1MSIpLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgiLnByb21wdF80IikuYXR0cigidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgIH0pLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIucHJvbXB0XzQiKS5hdHRyKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICB9KTsKICAgIH0sCiAgICBkcmF3RnJlcXVlbnRQYXR0ZXJuOiBmdW5jdGlvbiBkcmF3RnJlcXVlbnRQYXR0ZXJuKHN0YWdlX251bSwgZGF0YSwgcGF0aF9kYXRhLCBydWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgc3RhcnRfc3RhZ2UgPSBydWxlWzBdOwogICAgICB2YXIgZW5kX3N0YWdlID0gcnVsZVsxXTsKICAgICAgdmFyIHR5cGUgPSBydWxlWzJdOwogICAgICB2YXIgc29ydCA9IHJ1bGVbM107CiAgICAgIGNvbnNvbGUubG9nKHN0YXJ0X3N0YWdlLCBlbmRfc3RhZ2UsIHR5cGUsIHNvcnQpOyAvLyDlvIDlp4vkuIDmraXkuIDmraXov4fmu6QKICAgICAgLy8g56ys5LiA5q2l77ya5qOA5p+l5piv5ZCm5pyJ56Gu5a6a55qEc3RhcnQgc3RhZ2UKCiAgICAgIHZhciBkYXRhX3RlbXAgPSBbZGF0YVswXSwgW11dOwoKICAgICAgaWYgKHN0YXJ0X3N0YWdlID49IDApIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbMV0ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChkYXRhWzFdW2ldWzBdID09IHN0YXJ0X3N0YWdlLnRvU3RyaW5nKCkpIHsKICAgICAgICAgICAgZGF0YV90ZW1wWzFdLnB1c2goZGF0YVsxXVtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkYXRhID0gZGF0YV90ZW1wOwogICAgICB9IC8vIOesrOS6jOatpe+8muajgOafpeaYr+WQpuacieehruWumueahGVuZCBzdGFnZQoKCiAgICAgIGRhdGFfdGVtcCA9IFtkYXRhWzBdLCBbXV07CgogICAgICBpZiAoZW5kX3N0YWdlID49IDApIHsKICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBkYXRhWzFdLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgIGlmIChkYXRhWzFdW19pM11bZGF0YVsxXVtfaTNdLmxlbmd0aCAtIDFdID09IGVuZF9zdGFnZS50b1N0cmluZygpKSB7CiAgICAgICAgICAgIGRhdGFfdGVtcFsxXS5wdXNoKGRhdGFbMV1bX2kzXSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkYXRhID0gZGF0YV90ZW1wOwogICAgICB9IC8vIOesrOS4ieatpe+8muafpeeci+aDs+eUqOS7gOS5iHZhbHVl5Y675o6S5bqPCgoKICAgICAgdmFyIGRhdGFfc29ydCA9IFtdOwoKICAgICAgaWYgKHR5cGUgPT0gMCkgewogICAgICAgIC8vIOagueaNruaAu+WHuueOsOmikeeOh+aOkuW6jwogICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IGRhdGFbMV0ubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhWzBdW2RhdGFbMV1baV1dWzBdICsgZGF0YVswXVtkYXRhWzFdW2ldXVsxXSkKICAgICAgICAgIGRhdGFfc29ydC5wdXNoKFtkYXRhWzFdW19pNF0sIGRhdGFbMF1bZGF0YVsxXVtfaTRdXVswXSArIGRhdGFbMF1bZGF0YVsxXVtfaTRdXVsxXV0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09IDEpIHsKICAgICAgICAvLyDmoLnmja5wb3NpdGl2ZeeahOeoi+W6puaOkuW6jwogICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGRhdGFbMV0ubGVuZ3RoOyBfaTUrKykgewogICAgICAgICAgZGF0YV9zb3J0LnB1c2goW2RhdGFbMV1bX2k1XSwgZGF0YVswXVtkYXRhWzFdW19pNV1dWzBdIC0gZGF0YVswXVtkYXRhWzFdW19pNV1dWzFdXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gMikgewogICAgICAgIC8vIOagueaNrm5lZ2F0aXZl55qE56iL5bqm5o6S5bqPCiAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgZGF0YVsxXS5sZW5ndGg7IF9pNisrKSB7CiAgICAgICAgICBkYXRhX3NvcnQucHVzaChbZGF0YVsxXVtfaTZdLCBkYXRhWzBdW2RhdGFbMV1bX2k2XV1bMV0gLSBkYXRhWzBdW2RhdGFbMV1bX2k2XV1bMF1dKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAzKSB7CiAgICAgICAgZm9yICh2YXIgX2k3ID0gMDsgX2k3IDwgZGF0YVsxXS5sZW5ndGg7IF9pNysrKSB7CiAgICAgICAgICBkYXRhX3NvcnQucHVzaChbZGF0YVsxXVtfaTddLCBwYXRoX2RhdGFbZGF0YVsxXVtfaTddXVsxXVswXSAtIHBhdGhfZGF0YVtkYXRhWzFdW19pN11dWzBdWzBdXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIF9pOCA9IDA7IF9pOCA8IGRhdGFbMV0ubGVuZ3RoOyBfaTgrKykgewogICAgICAgICAgZGF0YV9zb3J0LnB1c2goW2RhdGFbMV1bX2k4XSwgcGF0aF9kYXRhW2RhdGFbMV1bX2k4XV1bMV1bMV0gLSBwYXRoX2RhdGFbZGF0YVsxXVtfaThdXVswXVsxXV0pOwogICAgICAgIH0KICAgICAgfSAvLyDnrKzlm5vmraXvvJrmn6XnnIvmmK/ljYfluo/ov5jmmK/pmY3luo8KCgogICAgICBpZiAoc29ydCA9PSAxKSB7CiAgICAgICAgZGF0YV9zb3J0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBhWzFdIC0gYlsxXTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhX3NvcnQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGJbMV0gLSBhWzFdOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBkYXRhID0gW2RhdGFbMF0sIFtdXTsKCiAgICAgIGZvciAodmFyIF9pOSA9IDA7IF9pOSA8IGRhdGFfc29ydC5sZW5ndGg7IF9pOSsrKSB7CiAgICAgICAgZGF0YVsxXS5wdXNoKGRhdGFfc29ydFtfaTldWzBdKTsKICAgICAgfQoKICAgICAgdmFyIGRvbWFpbl94ID0gW107CgogICAgICBmb3IgKHZhciBfaTEwID0gMDsgX2kxMCA8IHN0YWdlX251bTsgX2kxMCsrKSB7CiAgICAgICAgZG9tYWluX3gucHVzaChfaTEwKTsKICAgICAgfQoKICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKCkuZG9tYWluKGRvbWFpbl94KS5yYW5nZShfdGhpcy5jb2xvcl9saXN0KTsKICAgICAgdmFyIHhfc2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFsxMCwgMTUwXSkuZG9tYWluKFswLCA1XSk7CiAgICAgIHZhciB5X3NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZShbMjAsIDI1MF0pLmRvbWFpbihbMCwgMTBdKTsKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiLnBhdHRlcm52aWV3Iik7IC8vIHN2Zy5hcHBlbmQoInRleHQiKQogICAgICAvLyAgICAgLmF0dHIoIngiLCA1KQogICAgICAvLyAgICAgLmF0dHIoInkiLCAxMikKICAgICAgLy8gICAgIC5hdHRyKCJmb250LXNpemUiLCAxNSkKICAgICAgLy8gICAgIC50ZXh0KCJ0aHJlc2hvbGQiKQogICAgICAvLyAvLyDkuK3pl7TliqDkuIDkuKrlhpLlj7cKICAgICAgLy8gc3ZnLmFwcGVuZCgidGV4dCIpCiAgICAgIC8vICAgICAuYXR0cigieCIsIDY2KQogICAgICAvLyAgICAgLmF0dHIoInkiLCAxMikKICAgICAgLy8gICAgIC5hdHRyKCJmb250LXNpemUiLCAxNSkKICAgICAgLy8gICAgIC50ZXh0KCI6IikKICAgICAgLy8gLy/njrDlnKjpgInmi6nnmoRr5YC85piv5aSa5bCRCiAgICAgIC8vIHN2Zy5hcHBlbmQoInRleHQiKQogICAgICAvLyAgICAgLmF0dHIoIngiLCA3MCkKICAgICAgLy8gICAgIC5hdHRyKCJ5IiwgMTIpCiAgICAgIC8vICAgICAuYXR0cigiZm9udC1zaXplIiwgMTUpCiAgICAgIC8vICAgICAudGV4dChfdGhpcy5wYXR0ZXJuX3RocmVzaG9sZCkKICAgICAgLy8gICAgIC5hdHRyKCJjbGFzcyIsICJ0aHJlc2hvbGQiKQogICAgICAvLyBjb25zdCBzbGlkZXIgPSBzbGlkZXJCb3R0b20oKQogICAgICAvLyAgICAgLnRpY2tzKDApCiAgICAgIC8vICAgICAubWluKDApLm1heCgxKQogICAgICAvLyAgICAgLnN0ZXAoMC4wNSkud2lkdGgoMTAwKQogICAgICAvLyAgICAgLmhhbmRsZShkMy5zeW1ib2woKS50eXBlKGQzLnN5bWJvbENpcmNsZSkuc2l6ZSgxMDApKCkpCiAgICAgIC8vICAgICAuZGlzcGxheVZhbHVlKGZhbHNlKQogICAgICAvLyAgICAgLm9uKCdvbmNoYW5nZScsICh2YWx1ZSkgPT4gewogICAgICAvLyAgICAgICAgIF90aGlzLnBhdHRlcm5fdGhyZXNob2xkID0gdmFsdWUKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgICkKICAgICAgLy8gICAgIC5kZWZhdWx0KDAuMSkKICAgICAgLy8gICAgIC5maWxsKFtfdGhpcy5zbGlkZXJfY29sb3JdKQoKICAgICAgdmFyIGcgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgInRyYW5zbGF0ZSgxMDAsIDcpIik7IC8vIGcuY2FsbChzbGlkZXIpCgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaTExKSB7CiAgICAgICAgdmFyIGtleSA9IGRhdGFbMV1bX2kxMV07IC8v5a2Y5YKo5Yu+6YCJ6IOM5pmv77yM5pyA5byA5aeL55qE5pe25YCZ6IOM5pmv5pivaGlkZGVu55qE77yM6YCJ5Lit5LqG5LmL5ZCO5omN5LyadmlzaWJsZQoKICAgICAgICBnX2hpZ2hsaWdodCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCJjbGFzcyIsICJwYXR0ZXJucmVzdWx0Iik7CiAgICAgICAgZ19oaWdobGlnaHQuYXBwZW5kKCJyZWN0IikuYXR0cigieCIsIDApLmF0dHIoInkiLCB5X3NjYWxlKF9pMTEpIC0gMTApLmF0dHIoJ3dpZHRoJywgMjIwKS5hdHRyKCdoZWlnaHQnLCAyMCkuYXR0cignZmlsbCcsIF90aGlzLnN0cm9rZV9jb2xvcikuYXR0cignb3BhY2l0eScsIDAuMSkuYXR0cigndmlzaWJpbGl0eScsICdoaWRkZW4nKS5hdHRyKCdjbGFzcycsICdjbGlja2hpZ2hsaWdodCAnICsga2V5KTsgLy/lrZjlgqjlkI7pnaLnmoTot6/lvoTovaznp7sKCiAgICAgICAgZ190ZW1wX3BhdGggPSBzdmcuYXBwZW5kKCdnJykuYXR0cignd2lkdGgnLCAyNDApLmF0dHIoJ2hlaWdodCcsIDEwMDApLmF0dHIoJ2NsYXNzJywgJ3BhdGggJyArIGtleSkub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzLmNsaWNrX3BhdHRlcm4gIT0gJycpIHsKICAgICAgICAgICAgJCgiLmNsaWNraGlnaGxpZ2h0LiIgKyBfdGhpcy5jbGlja19wYXR0ZXJuLnRvU3RyaW5nKCkpLmF0dHIoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuY2xpY2tfcGF0dGVybiA9IGtleTsKICAgICAgICAgICQoIi5jbGlja2hpZ2hsaWdodC4iICsga2V5KS5hdHRyKCd2aXNpYmlsaXR5JywgJ3Zpc2FibGUnKTsKICAgICAgICB9KTsKICAgICAgICBnb29kX2YgPSBwYXRoX2RhdGFba2V5XVswXVswXTsKICAgICAgICBiYWRfZiA9IHBhdGhfZGF0YVtrZXldWzBdWzFdOwogICAgICAgIGdvb2RfbCA9IHBhdGhfZGF0YVtrZXldWzFdWzBdOwogICAgICAgIGJhZF9sID0gcGF0aF9kYXRhW2tleV1bMV1bMV07CiAgICAgICAgdmFyIGhlaWdodF9wYXRoID0gMjA7CiAgICAgICAgZ190ZW1wX3BhdGguYXBwZW5kKCdyZWN0JykuYXR0cigieCIsIDIwMCkuYXR0cigieSIsIHlfc2NhbGUoX2kxMSkgLSAxMCkuYXR0cigiZmlsbCIsIF90aGlzLmJldHRlcl9jb2xvcikuYXR0cigic3Ryb2tlIiwgJ25vbmUnKS5hdHRyKCJzdHJva2Utd2lkdGgiLCAwKS5hdHRyKCJ3aWR0aCIsIDEwKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHRfcGF0aCAqIGdvb2RfZikuYXR0cigib3BhY2l0eSIsIDEpOwogICAgICAgIGdfdGVtcF9wYXRoLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAyMDApLmF0dHIoInkiLCB5X3NjYWxlKF9pMTEpIC0gMTAgKyBoZWlnaHRfcGF0aCAqIGdvb2RfZikuYXR0cigiZmlsbCIsIF90aGlzLndvcnNlX2NvbG9yKS5hdHRyKCJzdHJva2UiLCAnbm9uZScpLmF0dHIoInN0cm9rZS13aWR0aCIsIDApLmF0dHIoIndpZHRoIiwgMTApLmF0dHIoImhlaWdodCIsIGhlaWdodF9wYXRoICogYmFkX2YpLmF0dHIoIm9wYWNpdHkiLCAxKTsKICAgICAgICBnX3RlbXBfcGF0aC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCJ4IiwgMjEwKS5hdHRyKCJ5IiwgeV9zY2FsZShfaTExKSAtIDEwKS5hdHRyKCJmaWxsIiwgX3RoaXMuYmV0dGVyX2NvbG9yKS5hdHRyKCJzdHJva2UiLCAnbm9uZScpLmF0dHIoInN0cm9rZS13aWR0aCIsIDApLmF0dHIoIndpZHRoIiwgMTApLmF0dHIoImhlaWdodCIsIGhlaWdodF9wYXRoICogZ29vZF9sKS5hdHRyKCJvcGFjaXR5IiwgMSk7CiAgICAgICAgZ190ZW1wX3BhdGguYXBwZW5kKCdyZWN0JykuYXR0cigieCIsIDIxMCkuYXR0cigieSIsIHlfc2NhbGUoX2kxMSkgLSAxMCArIGhlaWdodF9wYXRoICogZ29vZF9sKS5hdHRyKCJmaWxsIiwgX3RoaXMud29yc2VfY29sb3IpLmF0dHIoInN0cm9rZSIsICdub25lJykuYXR0cigic3Ryb2tlLXdpZHRoIiwgMCkuYXR0cigid2lkdGgiLCAxMCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0X3BhdGggKiBiYWRfbCkuYXR0cigib3BhY2l0eSIsIDEpOyAvL+WtmOWCqOWJjemdoueahOmDqOWIhgoKICAgICAgICBnX3RlbXAgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignd2lkdGgnLCAyNDApLmF0dHIoJ2hlaWdodCcsIDc0MCkuYXR0cignY2xhc3MnLCAncGF0dGVybiAnICsgX2kxMSkub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzLmNsaWNrX3BhdHRlcm4gIT0gJycpIHsKICAgICAgICAgICAgJCgiLmNsaWNraGlnaGxpZ2h0LiIgKyBfdGhpcy5jbGlja19wYXR0ZXJuLnRvU3RyaW5nKCkpLmF0dHIoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuY2xpY2tfcGF0dGVybiA9IGtleTsKICAgICAgICAgICQoIi5jbGlja2hpZ2hsaWdodC4iICsga2V5KS5hdHRyKCd2aXNpYmlsaXR5JywgJ3Zpc2FibGUnKTsKICAgICAgICB9KTsgLy/liqDog4zmma8KCiAgICAgICAgZ190ZW1wLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAxKS5hdHRyKCJ5IiwgeV9zY2FsZShfaTExKSAtIDcpLmF0dHIoImZpbGwiLCBfdGhpcy5ub3JtYWxfY29sb3IpLmF0dHIoIndpZHRoIiwgNzUpLmF0dHIoImhlaWdodCIsIDE0KS5hdHRyKCJvcGFjaXR5IiwgMC4wNSk7CgogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBnX3RlbXAuYXBwZW5kKCJjaXJjbGUiKS5hdHRyKCJjeCIsIHhfc2NhbGUoaykpLmF0dHIoImN5IiwgeV9zY2FsZShfaTExKSkuYXR0cigiciIsIDYpLmF0dHIoImZpbGwiLCBjb2xvcihwYXJzZUludChrZXlba10pKSk7IC8vLmF0dHIoInN0cm9rZSIsICcjNWI1YjViJykKCiAgICAgICAgICBnX3RlbXAuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc2NhbGUoaykgLSAzKS5hdHRyKCJ5IiwgeV9zY2FsZShfaTExKSArIDMpLmF0dHIoImZvbnQtc2l6ZSIsIDEwKS5hdHRyKCJzdHJva2UiLCAnd2hpdGUnKS5hdHRyKCJvcGFjaXR5IiwgMSkudGV4dChwYXJzZUludChrZXlba10pICsgMSk7IC8vY29uc29sZS5sb2coa2V5W2tdLCBwYXJzZUludChrZXlba10pLCBjb2xvcihwYXJzZUludChrZXlba10pKSkKCiAgICAgICAgICBpZiAoayA8IGtleS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIGdfdGVtcC5hcHBlbmQoImxpbmUiKS5hdHRyKCJ4MSIsIHhfc2NhbGUoaykgKyA2KS5hdHRyKCJ4MiIsIHhfc2NhbGUoayArIDEpIC0gNikuYXR0cigieTEiLCB5X3NjYWxlKF9pMTEpKS5hdHRyKCJ5MiIsIHlfc2NhbGUoX2kxMSkpLmF0dHIoInN0cm9rZSIsICcjNWI1YjViJyk7CiAgICAgICAgICB9CiAgICAgICAgfSAvL2JnCgoKICAgICAgICBnX3RlbXAuYXBwZW5kKCdyZWN0JykuYXR0cigieCIsIDgwKS5hdHRyKCJ5IiwgeV9zY2FsZShfaTExKSAtIDcpLmF0dHIoImZpbGwiLCBfdGhpcy5ub3JtYWxfY29sb3IpLmF0dHIoIndpZHRoIiwgNzUpLmF0dHIoImhlaWdodCIsIDE0KS5hdHRyKCJvcGFjaXR5IiwgMC4wNSk7IC8vIGJldHRlcgoKICAgICAgICBnX3RlbXAuYXBwZW5kKCdyZWN0JykuYXR0cigieCIsIDgwKS5hdHRyKCJ5IiwgeV9zY2FsZShfaTExKSAtIDcpLmF0dHIoImZpbGwiLCBfdGhpcy5iZXR0ZXJfY29sb3IpLmF0dHIoIndpZHRoIiwgZGF0YVswXVtrZXldWzBdICogODApLmF0dHIoImhlaWdodCIsIDcpLmF0dHIoIm9wYWNpdHkiLCAxKTsgLy8gd29yc2UKCiAgICAgICAgZ190ZW1wLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCA4MCkuYXR0cigieSIsIHlfc2NhbGUoX2kxMSkpLmF0dHIoImZpbGwiLCBfdGhpcy53b3JzZV9jb2xvcikuYXR0cigid2lkdGgiLCBkYXRhWzBdW2tleV1bMV0gKiA4MCkuYXR0cigiaGVpZ2h0IiwgNykuYXR0cigib3BhY2l0eSIsIDEpOyAvL2RpZmZlcmVuY2UKCiAgICAgICAgZ190ZW1wLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAxNjMpLmF0dHIoInkiLCB5X3NjYWxlKF9pMTEpIC0gOCkuYXR0cigid2lkdGgiLCAyOSkuYXR0cigiaGVpZ2h0IiwgMTMpLmF0dHIoImZpbGwiLCAibm9uZSIpLmF0dHIoInN0cm9rZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IDEwMCAqIChkYXRhWzBdW2tleV1bMF0gLSBkYXRhWzBdW2tleV1bMV0pOwoKICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmJldHRlcl9jb2xvcjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy53b3JzZV9jb2xvcjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBnX3RlbXAuYXBwZW5kKCd0ZXh0JykuYXR0cigieCIsIDE2NSkuYXR0cigieSIsIHlfc2NhbGUoX2kxMSkgKyAzKS5hdHRyKCJmb250LXNpemUiLCAxMykuYXR0cigiZmlsbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IDEwMCAqIChkYXRhWzBdW2tleV1bMF0gLSBkYXRhWzBdW2tleV1bMV0pOyAvL2NvbnNvbGUubG9nKGtleSwgdmFsdWUpCgogICAgICAgICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuYmV0dGVyX2NvbG9yOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLndvcnNlX2NvbG9yOwogICAgICAgICAgfQogICAgICAgIH0pLnRleHQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHZhbHVlID0gKDEwMCAqIChkYXRhWzBdW2tleV1bMF0gLSBkYXRhWzBdW2tleV1bMV0pKS50b0ZpeGVkKDEpOwoKICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIC12YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIF9pMTEgPSAwOyBfaTExIDwgZGF0YVsxXS5sZW5ndGg7IF9pMTErKykgewogICAgICAgIHZhciBnX2hpZ2hsaWdodDsKICAgICAgICB2YXIgZ190ZW1wX3BhdGg7CiAgICAgICAgdmFyIGdvb2RfZjsKICAgICAgICB2YXIgYmFkX2Y7CiAgICAgICAgdmFyIGdvb2RfbDsKICAgICAgICB2YXIgYmFkX2w7CiAgICAgICAgdmFyIGdfdGVtcDsKCiAgICAgICAgX2xvb3AoX2kxMSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/shengrui/Desktop/vis2023/system/EMINDS/frontend/src/components/StatisticsView/StatisticsView.js"],"names":["dataService","pipeService","d3","$","sliderBottom","sliderLeft","name","components","props","computed","data","stroke_color","normal_color","slider_color","better_color","worse_color","path_data","Array","pattern_data","start_flag","color_list","click_pattern","start","end","sort","type","stage_num","stage_reorder","pattern_threshold","watch","_this","start_temp","end_temp","parseInt","split","rule","remove","drawFrequentPattern","select","raise","console","log","emitClickPath","attr","mounted","svg","append","drawLegend","drawSortLegend","drawResultTitle","g_prompt","rect","text","onPattern","data_map","dicMap","listMap","onPath","onPatternNone","methods","number2literalMap","stage","lst","result","i","length","temp_t","temp_n","j","stageMap","toString","push","dic","keys","Object","k_t","k_n","svg_s","stage_number","domain_x","color","scaleOrdinal","domain","range","svg_title","data1","value","label","options","selectAll","enter","d","exit","g_legend","on","start_stage","end_stage","data_temp","data_sort","a","b","x_scale","scaleLinear","y_scale","g","key","g_highlight","g_temp_path","good_f","bad_f","good_l","bad_l","height_path","g_temp","k","toFixed"],"mappings":"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","sourcesContent":["import dataService from '../../service/dataService.js'\nimport pipeService from '../../service/pipeService.js';\nimport * as d3 from 'd3'\nimport $ from 'jquery'\nimport { sliderBottom, sliderLeft } from 'd3-simple-slider'\n\nexport default {\n    name: 'StatisticsView',\n    components: {\n    },\n    props: {\n    },\n    computed: {\n    },\n    data() {\n        return {\n            stroke_color: \"#D1B24D\",\n            normal_color: '#5b5b5b',\n            slider_color: '#C9CBD1',\n            //better_color: '#5b5b5b',\n            //worse_color: '#c9c9c9',\n            better_color: '#ADC2BC',\n            worse_color: '#f5cac3',\n            path_data: new Array(),\n            pattern_data: new Array(),\n            start_flag: 0,\n            //color_list: [\"#B6B6C6\", \"#ADB9C1\", \"#AFB5A4\", \"#EFE8BD\", \"#e9d1b4\", \"#d2aaa3\"],\n            color_list: [\"#768f89\", \"#adb49f\", \"#EFE8BD\", \"#e9d1b4\", \"#ddbcab\", \"#d2aaa3\"],\n            // color_list:[\"#B5B5C5\", \"#E2C9B3\", \"#ECC0C0\", \"#CAD5C3\", \"#9CB8CD\", \"#E3C6A9\"],\n            click_pattern: '',\n            start: \"0\",\n            end: \"0\",\n            sort: \"0\",\n            type: \"0\",\n            stage_num: 6,\n            stage_reorder: [],\n            pattern_threshold: 0.1\n        }\n    },\n    watch: {\n        start: function(){\n            const _this = this\n            //console.log(\"start\", _this.start)\n            let start_temp = -1\n            let end_temp = -1\n            if (_this.start != '0') {\n                start_temp = parseInt(_this.start.split(' ')[1]) - 1\n            }\n            if (_this.end != '0') {\n                end_temp = parseInt(_this.end.split(' ')[1]) - 1\n            }\n            const rule = [start_temp, end_temp, parseInt(_this.type), parseInt(_this.sort)]\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            _this.drawFrequentPattern(6, _this.pattern_data, _this.path_data, rule) //需要从前面传stage_number\n            d3.select(\".prompt_4\").raise()\n        },\n        end: function(){\n            const _this = this\n            console.log(\"end\", _this.end)\n            let start_temp = -1\n            let end_temp = -1\n            if (_this.start != '0') {\n                start_temp = parseInt(_this.start.split(' ')[1]) - 1\n            }\n            if (_this.end != '0') {\n                end_temp = parseInt(_this.end.split(' ')[1]) - 1\n            }\n            const rule = [start_temp, end_temp, parseInt(_this.type), parseInt(_this.sort)]\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            _this.drawFrequentPattern(_this.stage_num, _this.pattern_data, _this.path_data, rule) //需要从前面传stage_number\n            d3.select(\".prompt_4\").raise()\n        },\n        type: function(){\n            const _this = this\n            console.log(\"type\", _this.type)\n            let start_temp = -1\n            let end_temp = -1\n            if (_this.start != '0') {\n                start_temp = parseInt(_this.start.split(' ')[1]) - 1\n            }\n            if (_this.end != '0') {\n                end_temp = parseInt(_this.end.split(' ')[1]) - 1\n            }\n            const rule = [start_temp, end_temp, parseInt(_this.type), parseInt(_this.sort)]\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            _this.drawFrequentPattern(_this.stage_num, _this.pattern_data, _this.path_data, rule) //需要从前面传stage_number\n            d3.select(\".prompt_4\").raise()\n        },\n        sort: function(){\n            const _this = this\n            console.log(\"sort\", _this.sort)\n            let start_temp = -1\n            let end_temp = -1\n            if (_this.start != '0') {\n                start_temp = parseInt(_this.start.split(' ')[1]) - 1\n            }\n            if (_this.end != '0') {\n                end_temp = parseInt(_this.end.split(' ')[1]) - 1\n            }\n            const rule = [start_temp, end_temp, parseInt(_this.type), parseInt(_this.sort)]\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            _this.drawFrequentPattern(_this.stage_num, _this.pattern_data, _this.path_data, rule) //需要从前面传stage_number-\n            d3.select(\".prompt_4\").raise()\n        },\n        start_flag: function () {\n            const _this = this\n            const rule = [parseInt(_this.start.split(' ')[1]) - 1, parseInt(_this.end.split(' ')[1]) - 1, parseInt(_this.type), parseInt(_this.sort)]\n            if (_this.start_flag == 2) {\n                _this.start_flag = 0\n                _this.drawFrequentPattern(_this.stage_num, _this.pattern_data, _this.path_data, [-1, -1, 0, 0]) //需要从前面传stage_number\n            }\n            d3.select(\".prompt_4\").raise()\n        },\n        click_pattern: function () {\n            const _this = this\n            if (_this.click_pattern != 'none') {\n                pipeService.emitClickPath([_this.click_pattern, _this.path_data])\n            } else {\n                $('.clickhighlight').attr('visibility', 'hidden')\n            }\n            d3.select(\".prompt_4\").raise()\n        }\n\n    },\n    mounted: function () {\n        const _this = this\n        const svg = d3.select(\".patternviewdisplay\")\n            .append(\"svg\")\n            .attr(\"width\", 240)\n            .attr(\"height\", 2000)\n            .attr(\"class\", \"patternview\")\n\n        _this.drawLegend()\n        _this.drawSortLegend(6) //需要从前面传stage_number\n        _this.drawResultTitle()\n\n        let g_prompt = svg.append('g')\n        .attr(\"class\", \"prompt_4\")\n        .attr(\"visibility\", \"hidden\")\n        .attr(\"transform\", \"translate(5, 40)\")\n\n        let rect = g_prompt.append('rect')\n            .attr('width', 225)  \n            .attr('height', 165)  \n            .attr('fill', 'white')  \n            .attr('stroke', 'black')\n            .attr('x', 0)  \n            .attr('y', 0);\n\n        let text = g_prompt.append('text')\n            .attr('x', 10)\n            .attr('y', 15)\n            .attr('fill', 'black')\n            .attr('font-size', '12px')\n\n        text.append('tspan')\n            .text('The first element in each row: ')\n            .attr('x', 10) \n            .attr('y', 20) \n        \n        text.append('tspan')\n            .text('  - the stage order within the pattern.')\n            .attr('x', 10) \n            .attr('y', 35) \n\n        text.append('tspan')\n            .text('The second element in each row: ')\n            .attr('x', 10) \n            .attr('y', 55) \n        \n        text.append('tspan')\n            .text('  - the frequency of the pattern')\n            .attr('x', 10) \n            .attr('y', 70) \n        \n        text.append('tspan')\n            .text('The third element in each row: ')\n            .attr('x', 10) \n            .attr('y', 95) \n        \n        text.append('tspan')\n            .text('  - the changes in the positive')\n            .attr('x', 10) \n            .attr('y', 110) \n        text.append('tspan')\n            .text('  and negative degrees of behavior ')\n            .attr('x', 13) \n            .attr('y', 125) \n        text.append('tspan')\n            .text(' sequences before and after')\n            .attr('x', 16) \n            .attr('y', 140) \n        text.append('tspan')\n            .text(' this stage pattern.')\n            .attr('x', 13) \n            .attr('y', 155) \n\n        pipeService.onPattern(function (data) {\n            //console.log('******statistics:onPattern******', data)\n            const data_map = [_this.dicMap(data[0]), _this.listMap(data[1])]\n            _this.pattern_data = data_map\n            _this.start_flag = _this.start_flag + 1\n            g_prompt.raise()\n        })\n        pipeService.onPath(function (data) {\n            const data_map = _this.dicMap(data)\n            _this.path_data = data_map\n            _this.start_flag = _this.start_flag + 1\n            g_prompt.raise()\n        })\n        pipeService.onPatternNone(function (data) {\n            _this.click_pattern = \"none\"\n            g_prompt.raise()\n        })\n    },\n    methods: {\n        number2literalMap(stage){\n            if (stage == 0) {\n                return 'a'\n            }\n            if (stage == 1) {\n                return 'b'\n            }\n            if (stage == 2) {\n                return 'c'\n            }\n            if (stage == 3) {\n                return 'd'\n            }\n            if (stage == 4) {\n                return 'e'\n            } \n            if (stage == 5) {\n                return 'f'\n            }\n        },\n        listMap(lst) {\n            const _this = this\n            let result = []\n            for (let i = 0; i < lst.length; i++) {\n                let temp_t = lst[i]\n                let temp_n = ''\n                for (let j = 0; j < temp_t.length; j++) {\n                    temp_n += _this.stageMap(parseInt(temp_t[j])).toString()\n                }\n                result.push(temp_n)\n            }\n            return result\n        },\n        dicMap(dic) {\n            const _this = this\n            let keys = Object.keys(dic)\n            const result = {}\n            for (let i = 0; i < keys.length; i++) {\n                let k_t = keys[i]\n                let k_n = ''\n                for (let j = 0; j < k_t.length; j++) {\n                    k_n += _this.stageMap(parseInt(k_t[j])).toString()\n                }\n                result[k_n] = dic[k_t]\n            }\n            return result\n        },\n        stageMap(stage) {\n            if (stage == 0) {\n                return 2\n            }\n            if (stage == 1) {\n                return 4\n            }\n            if (stage == 2) {\n                return 0\n            }\n            if (stage == 3) {\n                return 1\n            }\n            if (stage == 4) {\n                return 3\n            } \n            if (stage == 5) {\n                return 5\n            }\n        },\n        drawResultTitle() {\n            // 写legend\n            var svg_s = d3.select(\".patternviewresult\")\n                .append(\"svg\")\n                .attr(\"width\", 240)\n                .attr(\"height\", 25)\n            svg_s.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 0)\n                .attr(\"width\", 236)\n                .attr(\"height\", 23)\n                .attr(\"fill\", \"#5b5b5b\")\n                .attr(\"opacity\", 0.1)\n\n            svg_s.append(\"text\")\n                .attr(\"x\", 67)\n                .attr(\"y\", 17)\n                .attr(\"font-size\", 16)\n                .text(\"pattern result\")\n                .attr(\"fill\", \"black\")\n        },\n        drawSortLegend(stage_number) {\n            const _this = this\n            // 定义color map\n            const domain_x = []\n            for (let i = 0; i < stage_number; i++) {\n                domain_x.push(i)\n            }\n            const color = d3.scaleOrdinal()\n                .domain(domain_x)\n                .range(_this.color_list)\n\n            // 写selection\n            var svg_s = d3.select(\"#selection\")\n                .append(\"svg\")\n                .attr(\"width\", 240)\n                .attr(\"height\", 25)\n            svg_s.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 0)\n                .attr(\"width\", 236)\n                .attr(\"height\", 23)\n                .attr(\"fill\", \"#5b5b5b\")\n                .attr(\"opacity\", 0.1)\n\n            svg_s.append(\"text\")\n                .attr(\"x\", 55)\n                .attr(\"y\", 17)\n                .attr(\"font-size\", 16)\n                .text(\"selection pannel\")\n                .attr(\"fill\", \"black\")\n            // 写title\n            var svg_title = d3.select(\"#title\")\n                .append(\"svg\")\n                .attr(\"width\", 200)\n                .attr(\"height\", 100)\n            svg_title.append(\"text\")\n                .attr(\"x\", 2)\n                .attr(\"y\", 17)\n                .attr(\"font-size\", 15)\n                .text(\"start stage:\")\n                .attr(\"fill\", \"black\")\n            svg_title.append(\"text\")\n                .attr(\"x\", 2)\n                .attr(\"y\", 42)\n                .attr(\"font-size\", 15)\n                .text(\"end stage:\")\n                .attr(\"fill\", \"black\")\n            svg_title.append(\"text\")\n                .attr(\"x\", 2)\n                .attr(\"y\", 67)\n                .attr(\"font-size\", 15)\n                .text(\"frequency type:\")\n                .attr(\"fill\", \"black\")\n            svg_title.append(\"text\")\n                .attr(\"x\", 2)\n                .attr(\"y\", 92)\n                .attr(\"font-size\", 15)\n                .text(\"sort rule:\")\n                .attr(\"fill\", \"black\")\n\n            // 定义选项数据\n            const data1 = [{ value: 0, label: \"none\", color: \"none\" }]\n            for (let i = 0; i < stage_number; i++) {\n                data1.push({ value: (i + 1), label: \"stage \" + (i + 1), color: color(i) })\n            }\n\n            // 画stage选择\n            var select = d3.select(\"#start\")\n            for (let i = 0; i < 2; i++) {\n                if (i == 1) {\n                    select = d3.select(\"#end\")\n                }\n                // 绑定数据到<option>标签上\n                var options = select.selectAll(\"option\")\n                    .data(data1)\n                    .enter()\n                    .append(\"option\")\n                    .text(function (d) { return d; });\n\n                options = select.selectAll(\"option\")\n                    .data(data1);\n\n                // 移除旧的<option>标签\n                options.exit().remove();\n\n                // 添加新的<option>标签\n                options.enter()\n                    .append(\"option\")\n                    .text(function (d) { return d.label; })\n\n                // 更新现有的<option>标签的文本\n                options.text(function (d) { return d.label; });\n            }\n        },\n        drawLegend() {\n            const _this = this\n            const svg = d3.select(\".patternviewheader\")\n                .append(\"svg\")\n                .attr(\"width\", 132)\n                .attr(\"height\", 20)\n                .attr(\"transform\", \"translate(0, 0)\")\n\n            let g_legend = svg.append('g')\n\n            g_legend.append(\"rect\")\n                .attr(\"x\", 7)\n                .attr(\"y\", 3)\n                .attr(\"width\", 10)\n                .attr(\"height\", 10)\n                .attr(\"fill\", _this.better_color)\n\n            g_legend.append(\"text\")\n                .attr(\"x\", 19)\n                .attr(\"y\", 12)\n                .attr(\"font-size\", 13)\n                .text(\"group1\")\n\n            g_legend.append(\"rect\")\n                .attr(\"x\", 64)\n                .attr(\"y\", 3)\n                .attr(\"width\", 10)\n                .attr(\"height\", 10)\n                .attr(\"fill\", _this.worse_color)\n\n            g_legend.append(\"text\")\n                .attr(\"x\", 76)\n                .attr(\"y\", 12)\n                .attr(\"font-size\", 13)\n                .text(\"group2\")\n            \n            g_legend.append(\"circle\")\n                .attr(\"cx\", 126)\n                .attr(\"cy\", 7)\n                .attr(\"r\", 5)\n                .attr(\"fill\", \"white\")\n                .attr(\"stroke\", \"red\")\n                .on(\"mouseover\", function () {\n                    $(\".prompt_4\").attr(\"visibility\", \"visible\");\n                })\n                .on(\"mouseout\", function () {\n                    $(\".prompt_4\").attr(\"visibility\", \"hidden\");\n                });\n            \n            g_legend.append(\"text\")\n                .attr(\"x\", 123)\n                .attr(\"y\", 10)\n                .attr(\"font-size\", 8)\n                .text(\"?\")\n                .attr(\"fill\", \"#bc4b51\")\n                .on(\"mouseover\", function () {\n                    $(\".prompt_4\").attr(\"visibility\", \"visible\");\n                })\n                .on(\"mouseout\", function () {\n                    $(\".prompt_4\").attr(\"visibility\", \"hidden\");\n                });\n        },\n        drawFrequentPattern(stage_num, data, path_data, rule) {\n            const _this = this\n            const start_stage = rule[0]\n            const end_stage = rule[1]\n            const type = rule[2]\n            const sort = rule[3]\n            console.log(start_stage, end_stage, type, sort)\n            // 开始一步一步过滤\n            // 第一步：检查是否有确定的start stage\n            let data_temp = [data[0], []]\n            if (start_stage >= 0) {\n                for (let i = 0; i < data[1].length; i++) {\n                    if (data[1][i][0] == start_stage.toString()){\n                        data_temp[1].push(data[1][i])\n                    }\n                }\n                data = data_temp\n            }\n            // 第二步：检查是否有确定的end stage\n            data_temp = [data[0], []]\n            if (end_stage >= 0) {\n                for (let i = 0; i < data[1].length; i++) {\n                    if (data[1][i][data[1][i].length-1] == end_stage.toString()){\n                        data_temp[1].push(data[1][i])\n                    }\n                }\n                data = data_temp\n            }\n            // 第三步：查看想用什么value去排序\n            let data_sort = []\n            if (type == 0) {\n                // 根据总出现频率排序\n                for (let i = 0; i < data[1].length; i++) {\n                    //console.log(data[0][data[1][i]][0] + data[0][data[1][i]][1])\n                    data_sort.push([data[1][i], data[0][data[1][i]][0] + data[0][data[1][i]][1]])\n                }\n            } else if (type == 1) {\n                // 根据positive的程度排序\n                for (let i = 0; i < data[1].length; i++) {\n                    data_sort.push([data[1][i], data[0][data[1][i]][0] - data[0][data[1][i]][1]])\n                }\n            } else if (type == 2) {\n                // 根据negative的程度排序\n                for (let i = 0; i < data[1].length; i++) {\n                    data_sort.push([data[1][i], data[0][data[1][i]][1] - data[0][data[1][i]][0]])\n                }\n            } else if (type == 3) {\n                for (let i = 0; i < data[1].length; i++) {\n                    data_sort.push([data[1][i], path_data[data[1][i]][1][0] - path_data[data[1][i]][0][0]])\n                }\n            } else {\n                for (let i = 0; i < data[1].length; i++) {\n                    data_sort.push([data[1][i], path_data[data[1][i]][1][1] - path_data[data[1][i]][0][1]])\n                }\n            }\n            // 第四步：查看是升序还是降序\n            if (sort == 1) {\n                data_sort.sort((a, b) => a[1] - b[1])\n            } else {\n                data_sort.sort((a, b) => b[1] - a[1])\n            }\n            data = [data[0], []]\n            for (let i = 0; i < data_sort.length; i++) {\n                data[1].push(data_sort[i][0])\n            }\n            const domain_x = []\n            for (let i = 0; i < stage_num; i++) {\n                domain_x.push(i)\n            }\n            const color = d3.scaleOrdinal()\n                .domain(domain_x)\n                .range(_this.color_list)\n            const x_scale = d3.scaleLinear()\n                .range([10, 150])\n                .domain([0, 5])\n            const y_scale = d3.scaleLinear()\n                .range([20, 250])\n                .domain([0, 10])\n\n            const svg = d3.select(\".patternview\")\n\n            // svg.append(\"text\")\n            //     .attr(\"x\", 5)\n            //     .attr(\"y\", 12)\n            //     .attr(\"font-size\", 15)\n            //     .text(\"threshold\")\n\n            // // 中间加一个冒号\n            // svg.append(\"text\")\n            //     .attr(\"x\", 66)\n            //     .attr(\"y\", 12)\n            //     .attr(\"font-size\", 15)\n            //     .text(\":\")\n\n            // //现在选择的k值是多少\n            // svg.append(\"text\")\n            //     .attr(\"x\", 70)\n            //     .attr(\"y\", 12)\n            //     .attr(\"font-size\", 15)\n            //     .text(_this.pattern_threshold)\n            //     .attr(\"class\", \"threshold\")\n\n            // const slider = sliderBottom()\n            //     .ticks(0)\n            //     .min(0).max(1)\n            //     .step(0.05).width(100)\n            //     .handle(d3.symbol().type(d3.symbolCircle).size(100)())\n            //     .displayValue(false)\n            //     .on('onchange', (value) => {\n            //         _this.pattern_threshold = value\n            //     }\n            //     )\n            //     .default(0.1)\n            //     .fill([_this.slider_color])\n\n            const g = svg\n                .append('g')\n                .attr('transform', \"translate(100, 7)\");\n\n            // g.call(slider)\n\n            for (let i = 0; i < data[1].length; i++) {\n                let key = data[1][i]\n                //存储勾选背景，最开始的时候背景是hidden的，选中了之后才会visible\n                var g_highlight = svg.append('g').attr(\"class\", \"patternresult\")\n\n                g_highlight.append(\"rect\")\n                    .attr(\"x\", 0)\n                    .attr(\"y\", y_scale(i) - 10)\n                    .attr('width', 220)\n                    .attr('height', 20)\n                    .attr('fill', _this.stroke_color)\n                    .attr('opacity', 0.1)\n                    .attr('visibility', 'hidden')\n                    .attr('class', 'clickhighlight ' + key)\n\n                //存储后面的路径转移\n                var g_temp_path = svg.append('g')\n                    .attr('width', 240)\n                    .attr('height', 1000)\n                    .attr('class', 'path ' + key)\n                    .on(\"click\", function () {\n                        if (_this.click_pattern != '') {\n                            $(\".clickhighlight.\" + _this.click_pattern.toString()).attr('visibility', 'hidden')\n                        }\n                        _this.click_pattern = key\n                        $(\".clickhighlight.\" + key).attr('visibility', 'visable')\n                    })\n                var good_f = path_data[key][0][0]\n                var bad_f = path_data[key][0][1]\n                var good_l = path_data[key][1][0]\n                var bad_l = path_data[key][1][1]\n                const height_path = 20\n                g_temp_path.append('rect')\n                    .attr(\"x\", 200)\n                    .attr(\"y\", y_scale(i) - 10)\n                    .attr(\"fill\", _this.better_color)\n                    .attr(\"stroke\", 'none')\n                    .attr(\"stroke-width\", 0)\n                    .attr(\"width\", 10)\n                    .attr(\"height\", height_path * good_f)\n                    .attr(\"opacity\", 1)\n\n                g_temp_path.append('rect')\n                    .attr(\"x\", 200)\n                    .attr(\"y\", y_scale(i) - 10 + height_path * good_f)\n                    .attr(\"fill\", _this.worse_color)\n                    .attr(\"stroke\", 'none')\n                    .attr(\"stroke-width\", 0)\n                    .attr(\"width\", 10)\n                    .attr(\"height\", height_path * bad_f)\n                    .attr(\"opacity\", 1)\n\n                g_temp_path.append('rect')\n                    .attr(\"x\", 210)\n                    .attr(\"y\", y_scale(i) - 10)\n                    .attr(\"fill\", _this.better_color)\n                    .attr(\"stroke\", 'none')\n                    .attr(\"stroke-width\", 0)\n                    .attr(\"width\", 10)\n                    .attr(\"height\", height_path * good_l)\n                    .attr(\"opacity\", 1)\n\n                g_temp_path.append('rect')\n                    .attr(\"x\", 210)\n                    .attr(\"y\", y_scale(i) - 10 + height_path * good_l)\n                    .attr(\"fill\", _this.worse_color)\n                    .attr(\"stroke\", 'none')\n                    .attr(\"stroke-width\", 0)\n                    .attr(\"width\", 10)\n                    .attr(\"height\", height_path * bad_l)\n                    .attr(\"opacity\", 1)\n\n                //存储前面的部分\n                var g_temp = svg.append('g')\n                    .attr('width', 240)\n                    .attr('height', 740)\n                    .attr('class', 'pattern ' + i)\n                    .on(\"click\", function () {\n                        if (_this.click_pattern != '') {\n                            $(\".clickhighlight.\" + _this.click_pattern.toString()).attr('visibility', 'hidden')\n                        }\n                        _this.click_pattern = key\n                        $(\".clickhighlight.\" + key).attr('visibility', 'visable')\n                    })\n\n                //加背景\n                g_temp.append('rect')\n                    .attr(\"x\", 1)\n                    .attr(\"y\", y_scale(i) - 7)\n                    .attr(\"fill\", _this.normal_color)\n                    .attr(\"width\", 75)\n                    .attr(\"height\", 14)\n                    .attr(\"opacity\", 0.05)\n\n                for (let k = 0; k < key.length; k++) {\n                    g_temp.append(\"circle\")\n                        .attr(\"cx\", x_scale(k))\n                        .attr(\"cy\", y_scale(i))\n                        .attr(\"r\", 6)\n                        .attr(\"fill\", color(parseInt(key[k])))\n                        //.attr(\"stroke\", '#5b5b5b')\n\n                    g_temp.append(\"text\")\n                        .attr(\"x\", x_scale(k) - 3)\n                        .attr(\"y\", y_scale(i) + 3)\n                        .attr(\"font-size\", 10)\n                        .attr(\"stroke\", 'white')\n                        .attr(\"opacity\", 1)\n                        .text(parseInt(key[k]) + 1)\n\n                    //console.log(key[k], parseInt(key[k]), color(parseInt(key[k])))\n                    if (k < key.length - 1) {\n                        g_temp.append(\"line\")\n                            .attr(\"x1\", x_scale(k) + 6)\n                            .attr(\"x2\", x_scale(k + 1) - 6)\n                            .attr(\"y1\", y_scale(i))\n                            .attr(\"y2\", y_scale(i))\n                            .attr(\"stroke\", '#5b5b5b')\n                    }\n                }\n                //bg\n                g_temp.append('rect')\n                    .attr(\"x\", 80)\n                    .attr(\"y\", y_scale(i) - 7)\n                    .attr(\"fill\", _this.normal_color)\n                    .attr(\"width\", 75)\n                    .attr(\"height\", 14)\n                    .attr(\"opacity\", 0.05)\n\n                // better\n                g_temp.append('rect')\n                    .attr(\"x\", 80)\n                    .attr(\"y\", y_scale(i) - 7)\n                    .attr(\"fill\", _this.better_color)\n                    .attr(\"width\", data[0][key][0] * 80)\n                    .attr(\"height\", 7)\n                    .attr(\"opacity\", 1)\n\n                // worse\n                g_temp.append('rect')\n                    .attr(\"x\", 80)\n                    .attr(\"y\", y_scale(i))\n                    .attr(\"fill\", _this.worse_color)\n                    .attr(\"width\", data[0][key][1] * 80)\n                    .attr(\"height\", 7)\n                    .attr(\"opacity\", 1)\n\n                //difference\n                g_temp.append('rect')\n                    .attr(\"x\", 163)\n                    .attr(\"y\", y_scale(i) - 8)\n                    .attr(\"width\", 29)\n                    .attr(\"height\", 13)\n                    .attr(\"fill\", \"none\")\n                    .attr(\"stroke\", function () {\n                        let value = 100 * (data[0][key][0] - data[0][key][1])\n                        if (value > 0) {\n                            return _this.better_color\n                        } else {\n                            return _this.worse_color\n                        }\n                    })\n                g_temp.append('text')\n                    .attr(\"x\", 165)\n                    .attr(\"y\", y_scale(i) + 3)\n                    .attr(\"font-size\", 13)\n                    .attr(\"fill\", function () {\n                        let value = 100 * (data[0][key][0] - data[0][key][1])\n                        //console.log(key, value)\n                        if (value > 0) {\n                            return _this.better_color\n                        } else {\n                            return _this.worse_color\n                        }\n                    })\n                    .text(function () {\n                        let value = (100 * (data[0][key][0] - data[0][key][1])).toFixed(1)\n                        if (value > 0) {\n                            return value\n                        } else {\n                            return -value\n                        }\n                    })\n            }\n        }\n    }\n}"]}]}