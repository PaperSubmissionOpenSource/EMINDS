{"remainingRequest":"/Users/shengrui/Desktop/vis2023/system/system/frontend/node_modules/babel-loader/lib/index.js!/Users/shengrui/Desktop/vis2023/system/system/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/shengrui/Desktop/vis2023/system/system/frontend/src/components/BehaviormodeView/BehaviormodeView.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shengrui/Desktop/vis2023/system/system/frontend/src/components/BehaviormodeView/BehaviormodeView.js","mtime":1729751545183},{"path":"/Users/shengrui/Desktop/vis2023/system/system/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1729690872023},{"path":"/Users/shengrui/Desktop/vis2023/system/system/frontend/node_modules/babel-loader/lib/index.js","mtime":1729690872396},{"path":"/Users/shengrui/Desktop/vis2023/system/system/frontend/node_modules/eslint-loader/index.js","mtime":1729690872072}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbGwiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LmVudHJpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IGRhdGFTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvZGF0YVNlcnZpY2UuanMiOwppbXBvcnQgcGlwZVNlcnZpY2UgZnJvbSAiLi4vLi4vc2VydmljZS9waXBlU2VydmljZS5qcyI7CmltcG9ydCB7IHNsaWRlckJvdHRvbSwgc2xpZGVyTGVmdCB9IGZyb20gJ2QzLXNpbXBsZS1zbGlkZXInOwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IGJpbiwgcmFuZ2UgfSBmcm9tICdkMyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmVoYXZpb3Jtb2RlVmlldycsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIGNvbXB1dGVkOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YV9ncm91cDE6ICdzaW11bGF0ZWRfTUhPVCcsCiAgICAgIGRhdGFfZ3JvdXAyOiAnc2ltdWxhdGVkX01IU1cnLAogICAgICBzdHJva2VfY29sb3I6ICIjRDFCMjREIiwKICAgICAgLy/mnaHnirblm77ngrnlh7vkuYvlkI5iZWhhdmlvciB2aWV35Lya55u45bqU5Yqg5rex77yM6L+Z5piv54K55Ye75LmL5ZCO6auY5Lqu55qE6aKc6ImyCiAgICAgIG5vcm1hbF9jb2xvcjogJyMyZjNlNDYnLAogICAgICAvL25vcm1hbCBjb2xvcgogICAgICBib3VuZGluZ2JveF9jb2xvcjogJyNkOWQ5ZDknLAogICAgICAvL+WklumdoueahOmVv+aWueW9ouahhuahhuaYr+S7gOS5iOminOiJsgogICAgICBkaXN0cmlidXRpb25fY29sb3I6ICcjQzlDQkQxJywKICAgICAgYm94X2NvbG9yOiAnI0M5Q0JEMScsCiAgICAgIG1lZGlhbl9jb2xvcjogJyM0MDQwNDInLAogICAgICBudW1iZXJfY29sb3I6ICd3aGl0ZScsCiAgICAgIC8v5bGV546w55m+5YiG5q+U55qE6IOM5pmv5piv5LuA5LmI6aKc6ImyCiAgICAgIHNsaWRlcl9jb2xvcjogJyNDOUNCRDEnLAogICAgICBiYWNrZ3JvdW5kX2NvbG9yOiAnd2hpdGUnLAogICAgICB3b3JzZV9kaXN0cmlidXRpb25fY29sb3I6ICcjNDMyODE4JywKICAgICAgYWN0aXZlX2s6IDUsCiAgICAgIHBhc3NpdmVfazogNSwKICAgICAgYWN0aXZlX3g6IDMwLAogICAgICAvL2FjdGl2ZeeahOWIhuW4g+S7juWTqumHjOW8gOWni+eUuwogICAgICBhY3RpdmVfeTogMzAwLAogICAgICBwYXNzaXZlX3g6IDMwLAogICAgICBwYXNzaXZlX3k6IDUzMCwKICAgICAgYm94cGxvdDogMCwKICAgICAgbWluX21heF9saXN0OiB7CiAgICAgICAgIkZyZShwb3N0KSI6IFswLCAyMF0sCiAgICAgICAgImludGVydmFsIjogWzAsIDE0XSwKICAgICAgICAic291Z2h0IElTIjogWzAsIDNdLAogICAgICAgICJzb3VnaHQgRVMiOiBbMCwgM10sCiAgICAgICAgInRveGljaXR5IjogWzAsIDFdLAogICAgICAgICJUaW1lKHJlc3BvbnNlKSI6IFsxLCAzXSwKICAgICAgICAicmVjZWl2ZWQgSVMiOiBbMCwgM10sCiAgICAgICAgInJlY2VpdmVkIEVTIjogWzAsIDNdLAogICAgICAgICJOdW0ocmVzcG9uc2UpIjogWzAsIDNdCiAgICAgIH0sCiAgICAgIHhfZGV2aWF0aW9uOiB7CiAgICAgICAgIkZyZShwb3N0KSI6IDIsCiAgICAgICAgImludGVydmFsIjogNywKICAgICAgICAic291Z2h0IElTIjogMSwKICAgICAgICAic291Z2h0IEVTIjogMiwKICAgICAgICAidG94aWNpdHkiOiA3LAogICAgICAgICJOdW0ocmVzcG9uc2UpIjogLTcsCiAgICAgICAgIlRpbWUocmVzcG9uc2UpIjogMCwKICAgICAgICAicmVjZWl2ZWQgSVMiOiAxMCwKICAgICAgICAicmVjZWl2ZWQgRVMiOiA1CiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZGF0YV9ncm91cDE6IGZ1bmN0aW9uIGRhdGFfZ3JvdXAxKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgJCgnLmNsdXN0ZXJkaXN0cmlidXRpb24nKS5yZW1vdmUoKTsKICAgICAgJCgnLmRlcHJlc3Npb25kaXN0cmlidXRpb24nKS5yZW1vdmUoKTsKICAgICAgJCgnLnByb2dyZXNzaW9ub3ZlcnZpZXcnKS5yZW1vdmUoKTsKICAgICAgJCgnLnByb2dyZXNzaW9uc3RhZ2UnKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdHRlcm5yZXN1bHQiKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdHRlcm4iKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdGgiKS5yZW1vdmUoKTsKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiLnN0YWdldmlld2JvZHkiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgOTAwKS5hdHRyKCJoZWlnaHQiLCAyODApLmF0dHIoImNsYXNzIiwgInByb2dyZXNzaW9uc3RhZ2UiKTsKICAgICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfZGVwcmVzc2lvbihbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyXSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5kcmF3RGVwcmVzc2lvbkRpc3RyaWJ1dGlvbihkYXRhKTsKICAgICAgfSk7CiAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X2soW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMiwgX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfa10sIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuZHJhd0NsdXN0ZXJEaXN0cmlidXRpb24oMCwgZGF0YVswXSwgX3RoaXMuYWN0aXZlX3gsIF90aGlzLmFjdGl2ZV95KTsKCiAgICAgICAgX3RoaXMuZHJhd0NsdXN0ZXJEaXN0cmlidXRpb24oMSwgZGF0YVsxXSwgX3RoaXMucGFzc2l2ZV94LCBfdGhpcy5wYXNzaXZlX3kpOwoKICAgICAgICBkYXRhU2VydmljZS50cmFuc21pdF9zZWdtZW50KFtfdGhpcy5kYXRhX2dyb3VwMSwgX3RoaXMuZGF0YV9ncm91cDJdLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICBwaXBlU2VydmljZS5lbWl0U2VnbWVudChtc2cpOwogICAgICAgIH0pOwogICAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3N0YWdlX3N1bW1hcml6YXRpb24oW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2coInRyYW5zbWl0X3N0YWdlX3N1bW1hcml6YXRpb24iLCBtc2cpCiAgICAgICAgICBwaXBlU2VydmljZS5lbWl0U3RhZ2UoW190aGlzLmFjdGl2ZV9rLCBfdGhpcy5wYXNzaXZlX2ssIG1zZ10pOwogICAgICAgIH0pOwogICAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3BhdHRlcm4oW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIHBpcGVTZXJ2aWNlLmVtaXRQYXR0ZXJuKG1zZyk7CiAgICAgICAgfSk7CiAgICAgICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfcGF0aChbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyXSwgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgcGlwZVNlcnZpY2UuZW1pdFBhdGgobXNnKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZGF0YV9ncm91cDI6IGZ1bmN0aW9uIGRhdGFfZ3JvdXAyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgJCgnLmNsdXN0ZXJkaXN0cmlidXRpb24nKS5yZW1vdmUoKTsKICAgICAgJCgnLmRlcHJlc3Npb25kaXN0cmlidXRpb24nKS5yZW1vdmUoKTsKICAgICAgJCgnLnByb2dyZXNzaW9ub3ZlcnZpZXcnKS5yZW1vdmUoKTsKICAgICAgJCgnLnByb2dyZXNzaW9uc3RhZ2UnKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdHRlcm5yZXN1bHQiKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdHRlcm4iKS5yZW1vdmUoKTsKICAgICAgJCgiLnBhdGgiKS5yZW1vdmUoKTsKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiLnN0YWdldmlld2JvZHkiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgOTAwKS5hdHRyKCJoZWlnaHQiLCAyODApLmF0dHIoImNsYXNzIiwgInByb2dyZXNzaW9uc3RhZ2UiKTsKICAgICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfZGVwcmVzc2lvbihbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyXSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5kcmF3RGVwcmVzc2lvbkRpc3RyaWJ1dGlvbihkYXRhKTsKICAgICAgfSk7CiAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X2soW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMiwgX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfa10sIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuZHJhd0NsdXN0ZXJEaXN0cmlidXRpb24oMCwgZGF0YVswXSwgX3RoaXMuYWN0aXZlX3gsIF90aGlzLmFjdGl2ZV95KTsKCiAgICAgICAgX3RoaXMuZHJhd0NsdXN0ZXJEaXN0cmlidXRpb24oMSwgZGF0YVsxXSwgX3RoaXMucGFzc2l2ZV94LCBfdGhpcy5wYXNzaXZlX3kpOwoKICAgICAgICBkYXRhU2VydmljZS50cmFuc21pdF9zZWdtZW50KFtfdGhpcy5kYXRhX2dyb3VwMSwgX3RoaXMuZGF0YV9ncm91cDJdLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICBwaXBlU2VydmljZS5lbWl0U2VnbWVudChtc2cpOwogICAgICAgIH0pOwogICAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3N0YWdlX3N1bW1hcml6YXRpb24oW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2coInRyYW5zbWl0X3N0YWdlX3N1bW1hcml6YXRpb24iLCBtc2cpCiAgICAgICAgICBwaXBlU2VydmljZS5lbWl0U3RhZ2UoW190aGlzLmFjdGl2ZV9rLCBfdGhpcy5wYXNzaXZlX2ssIG1zZ10pOwogICAgICAgIH0pOwogICAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3BhdHRlcm4oW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIHBpcGVTZXJ2aWNlLmVtaXRQYXR0ZXJuKG1zZyk7CiAgICAgICAgfSk7CiAgICAgICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfcGF0aChbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyXSwgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgcGlwZVNlcnZpY2UuZW1pdFBhdGgobXNnKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYm94cGxvdDogZnVuY3Rpb24gYm94cGxvdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5ib3hwbG90ID09IDEpIHsKICAgICAgICAkKCIuYm94cGxvdCIpLmF0dHIoImZpbGwiLCBfdGhpcy5kaXN0cmlidXRpb25fY29sb3IpOwogICAgICAgICQoIi5kaXN0cmlidXRpb24uYm94cGxvdCIpLmF0dHIoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICB9IGVsc2UgewogICAgICAgICQoIi5ib3hwbG90IikuYXR0cigiZmlsbCIsIF90aGlzLmJhY2tncm91bmRfY29sb3IpOwogICAgICAgICQoIi5kaXN0cmlidXRpb24uYm94cGxvdCIpLmF0dHIoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgIH0KICAgIH0gLy8gYWN0aXZlX2s6IGZ1bmN0aW9uICgpIHsKICAgIC8vICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgIC8vICAgICAkKCIua3ZhbHVlLjAiKS50ZXh0KF90aGlzLmFjdGl2ZV9rKQogICAgLy8gICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X2soW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMiwgX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfa10sIChkYXRhKSA9PiB7CiAgICAvLyAgICAgICAgICQoIi5kaXN0cmlidXRpb24uY29udGVudC4wIikucmVtb3ZlKCkKICAgIC8vICAgICAgICAgJCgiLmRpc3RyaWJ1dGlvbi5ib3VuZGluZ2JveC4wIikucmVtb3ZlKCkKICAgIC8vICAgICAgICAgJCgiLmRpc3RyaWJ1dGlvbi5heGlzIikucmVtb3ZlKCkKICAgIC8vICAgICAgICAgLy8kKCIucGFzc2l2ZS5jbHVzdGVyLm5hbWUiKS5yZW1vdmUoKQogICAgLy8gICAgICAgICAkKCIuYWN0aXZlLmNsdXN0ZXIubmFtZSIpLnJlbW92ZSgpCiAgICAvLyAgICAgICAgIF90aGlzLmRyYXdDbHVzdGVyRGlzdHJpYnV0aW9uKDAsIGRhdGFbMF0sIF90aGlzLmFjdGl2ZV94LCBfdGhpcy5hY3RpdmVfeSkKICAgIC8vICAgICAgICAgLy8gZGF0YVNlcnZpY2UudHJhbnNtaXRfc2VnbWVudCgiMSIsIChtc2cpID0+IHsKICAgIC8vICAgICAgICAgLy8gICAgIF90aGlzLnBpcGVTZXJ2aWNlLmVtaXRTZWdtZW50KG1zZykKICAgIC8vICAgICAgICAgLy8gfSkKICAgIC8vICAgICAgICAgLy8gZGF0YVNlcnZpY2UudHJhbnNtaXRfc3RhZ2Vfc3VtbWFyaXphdGlvbigiMSIsIChtc2cpID0+IHsKICAgIC8vICAgICAgICAgLy8gICAgIF90aGlzLnBpcGVTZXJ2aWNlLmVtaXRTdGFnZShbX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfaywgbXNnXSkKICAgIC8vICAgICAgICAgLy8gfSkKICAgIC8vICAgICB9KQogICAgLy8gfSwKICAgIC8vIHBhc3NpdmVfazogZnVuY3Rpb24gKCkgewogICAgLy8gICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgLy8gICAgIC8vY29uc29sZS5sb2coInBhc3NpdmUiLCBfdGhpcy5wYXNzaXZlX2spCiAgICAvLyAgICAgJCgiLmt2YWx1ZS4xIikudGV4dChfdGhpcy5wYXNzaXZlX2spCiAgICAvLyAgICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfayhbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyLCBfdGhpcy5kYXRhX2dyb3VwMSwgX3RoaXMuZGF0YV9ncm91cDIsIF90aGlzLmFjdGl2ZV9rLCBfdGhpcy5wYXNzaXZlX2tdLCAoZGF0YSkgPT4gewogICAgLy8gICAgICAgICAkKCIuZGlzdHJpYnV0aW9uLmNvbnRlbnQuMSIpLnJlbW92ZSgpCiAgICAvLyAgICAgICAgICQoIi5kaXN0cmlidXRpb24uYm91bmRpbmdib3guMSIpLnJlbW92ZSgpCiAgICAvLyAgICAgICAgICQoIi5kaXN0cmlidXRpb24uYXhpcyIpLnJlbW92ZSgpCiAgICAvLyAgICAgICAgICQoIi5wYXNzaXZlLmNsdXN0ZXIubmFtZSIpLnJlbW92ZSgpCiAgICAvLyAgICAgICAgIC8vJCgiLmFjdGl2ZS5jbHVzdGVyLm5hbWUiKS5yZW1vdmUoKQogICAgLy8gICAgICAgICBfdGhpcy5kcmF3Q2x1c3RlckRpc3RyaWJ1dGlvbigxLCBkYXRhWzFdLCBfdGhpcy5wYXNzaXZlX3gsIF90aGlzLnBhc3NpdmVfeSkKICAgIC8vICAgICAgICAgLy8gZGF0YVNlcnZpY2UudHJhbnNtaXRfc2VnbWVudCgiMSIsIChtc2cpID0+IHsKICAgIC8vICAgICAgICAgLy8gICAgIF90aGlzLnBpcGVTZXJ2aWNlLmVtaXRTZWdtZW50KG1zZykKICAgIC8vICAgICAgICAgLy8gfSkKICAgIC8vICAgICAgICAgLy8gZGF0YVNlcnZpY2UudHJhbnNtaXRfc3RhZ2Vfc3VtbWFyaXphdGlvbigiMSIsIChtc2cpID0+IHsKICAgIC8vICAgICAgICAgLy8gICAgIF90aGlzLnBpcGVTZXJ2aWNlLmVtaXRTdGFnZShbX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfaywgbXNnXSkKICAgIC8vICAgICAgICAgLy8gfSkKICAgIC8vICAgICB9KQogICAgLy8gfSwKCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5kcmF3TGVnZW5kKCk7CgogICAgX3RoaXMuZHJhd0tJbnB1dCgpOwoKICAgIHBpcGVTZXJ2aWNlLm9uRGF0YXNldChmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5kYXRhX2dyb3VwMSA9IGRhdGFbMF07CiAgICAgIF90aGlzLmRhdGFfZ3JvdXAyID0gZGF0YVsxXTsKICAgIH0pOwogICAgZGF0YVNlcnZpY2UudHJhbnNtaXRfZGVwcmVzc2lvbihbX3RoaXMuZGF0YV9ncm91cDEsIF90aGlzLmRhdGFfZ3JvdXAyXSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMuZHJhd0RlcHJlc3Npb25EaXN0cmlidXRpb24oZGF0YSk7CiAgICB9KTsKICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X2soW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMiwgX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfa10sIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLmRyYXdDbHVzdGVyRGlzdHJpYnV0aW9uKDAsIGRhdGFbMF0sIF90aGlzLmFjdGl2ZV94LCBfdGhpcy5hY3RpdmVfeSk7CgogICAgICBfdGhpcy5kcmF3Q2x1c3RlckRpc3RyaWJ1dGlvbigxLCBkYXRhWzFdLCBfdGhpcy5wYXNzaXZlX3gsIF90aGlzLnBhc3NpdmVfeSk7CgogICAgICBkYXRhU2VydmljZS50cmFuc21pdF9zZWdtZW50KFtfdGhpcy5kYXRhX2dyb3VwMSwgX3RoaXMuZGF0YV9ncm91cDJdLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgcGlwZVNlcnZpY2UuZW1pdFNlZ21lbnQobXNnKTsKICAgICAgfSk7CiAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3N0YWdlX3N1bW1hcml6YXRpb24oW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCJ0cmFuc21pdF9zdGFnZV9zdW1tYXJpemF0aW9uIiwgbXNnKQogICAgICAgIHBpcGVTZXJ2aWNlLmVtaXRTdGFnZShbX3RoaXMuYWN0aXZlX2ssIF90aGlzLnBhc3NpdmVfaywgbXNnXSk7CiAgICAgIH0pOwogICAgICBkYXRhU2VydmljZS50cmFuc21pdF9wYXR0ZXJuKFtfdGhpcy5kYXRhX2dyb3VwMSwgX3RoaXMuZGF0YV9ncm91cDJdLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgcGlwZVNlcnZpY2UuZW1pdFBhdHRlcm4obXNnKTsKICAgICAgfSk7CiAgICAgIGRhdGFTZXJ2aWNlLnRyYW5zbWl0X3BhdGgoW190aGlzLmRhdGFfZ3JvdXAxLCBfdGhpcy5kYXRhX2dyb3VwMl0sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICBwaXBlU2VydmljZS5lbWl0UGF0aChtc2cpOwogICAgICB9KTsKICAgIH0pOwogICAgJCgiLmFjdGl2ZS4iICsgX3RoaXMuYWN0aXZlX2spLmNzcygiZmlsbCIsICJyZWQiKTsKICAgICQoIi5wYXNzaXZlLiIgKyBfdGhpcy5wYXNzaXZlX2spLmNzcygiZmlsbCIsICJyZWQiKTsKICAgIHBpcGVTZXJ2aWNlLm9uQVAoZnVuY3Rpb24gKGFwX2xpc3QpIHsKICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBfdGhpcy5hY3RpdmVfayArIDE7IGkrKykgewogICAgICAgIGlmIChhcF9saXN0LmluY2x1ZGVzKCdhJyArIGkpKSB7CiAgICAgICAgICAkKCcuYmcuYScgKyBpKS5hdHRyKCJ2aXNpYmlsaXR5IiwgInZpc2FibGUiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJCgnLmJnLmEnICsgaSkuYXR0cigidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBfdGhpcy5wYXNzaXZlX2sgKyAxOyBfaSsrKSB7CiAgICAgICAgaWYgKGFwX2xpc3QuaW5jbHVkZXMoJ3AnICsgX2kpKSB7CiAgICAgICAgICAkKCcuYmcucCcgKyBfaSkuYXR0cigidmlzaWJpbGl0eSIsICJ2aXNhYmxlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQoJy5iZy5wJyArIF9pKS5hdHRyKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmF3TGVnZW5kOiBmdW5jdGlvbiBkcmF3TGVnZW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiLmJlaGF2aW9ydmlld2hlYWRlciIpLmFwcGVuZCgic3ZnIikuYXR0cigid2lkdGgiLCAxMTApLmF0dHIoImhlaWdodCIsIDIwKTsKICAgICAgdmFyIGdfbGVnZW5kID0gc3ZnLmFwcGVuZCgnZycpOwogICAgICBnX2xlZ2VuZC5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgMTMpLmF0dHIoInkiLCAzKS5hdHRyKCJ3aWR0aCIsIDEwKS5hdHRyKCJoZWlnaHQiLCAxMCkuYXR0cigiZmlsbCIsIF90aGlzLmJhY2tncm91bmRfY29sb3IpLmF0dHIoInN0cm9rZSIsICJibGFjayIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5ib3hwbG90ID0gMSAtIF90aGlzLmJveHBsb3Q7CiAgICAgIH0pLmF0dHIoImNsYXNzIiwgImJveHBsb3QiKTsKICAgICAgZ19sZWdlbmQuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIDI3KS5hdHRyKCJ5IiwgMTIpLmF0dHIoImZvbnQtc2l6ZSIsIDEzKS50ZXh0KCJib3hwbG90Iik7CiAgICAgIGdfbGVnZW5kLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiY3giLCAxMDQpLmF0dHIoImN5IiwgNykuYXR0cigiciIsIDUpLmF0dHIoImZpbGwiLCAid2hpdGUiKS5hdHRyKCJzdHJva2UiLCAicmVkIikub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIucHJvbXB0XzEiKS5hdHRyKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgICAgfSkub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICQoIi5wcm9tcHRfMSIpLmF0dHIoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgIH0pOwogICAgICBnX2xlZ2VuZC5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgMTAxKS5hdHRyKCJ5IiwgMTApLmF0dHIoImZvbnQtc2l6ZSIsIDgpLnRleHQoIj8iKS5hdHRyKCJmaWxsIiwgIiNiYzRiNTEiKS5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24gKCkgewogICAgICAgICQoIi5wcm9tcHRfMSIpLmF0dHIoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICB9KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgiLnByb21wdF8xIikuYXR0cigidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TWF4T2ZBcnJheTogZnVuY3Rpb24gZ2V0TWF4T2ZBcnJheShudW1BcnJheSkgewogICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgbnVtQXJyYXkpOwogICAgfSwKICAgIGdldE1pbk9mQXJyYXk6IGZ1bmN0aW9uIGdldE1pbk9mQXJyYXkobnVtQXJyYXkpIHsKICAgICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KG51bGwsIG51bUFycmF5KTsKICAgIH0sCiAgICBkcmF3RGVwcmVzc2lvbkRpc3RyaWJ1dGlvbjogZnVuY3Rpb24gZHJhd0RlcHJlc3Npb25EaXN0cmlidXRpb24oZGF0YSkgewogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgd2lkdGggPSAyNzA7CiAgICAgIHZhciBoZWlnaHQgPSAxNzA7CiAgICAgIHZhciBzdmdfZGVwcmVzc2lvbiA9IGQzLnNlbGVjdCgiLnN2ZyIpLmFwcGVuZCgnZycpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwgMzApIikuYXR0cigiY2xhc3MiLCAiZGVwcmVzc2lvbmRpc3RyaWJ1dGlvbiIpOwogICAgICB2YXIgc3ZnX3RpdGxlID0gZDMuc2VsZWN0KCIuc3ZnIikuYXBwZW5kKCdnJykuYXR0cigiY2xhc3MiLCAiZGVwcmVzc2lvbmRpc3RyaWJ1dGlvbiIpOyAvL+aYvuekuuS4gOS6m+aPkOekugoKICAgICAgdmFyIGdfcHJvbXB0ID0gZDMuc2VsZWN0KCIuc3ZnIikuYXBwZW5kKCdnJykuYXR0cigid2lkdGgiLCAyNTApLmF0dHIoImhlaWdodCIsIDgwKS5hdHRyKCJjbGFzcyIsICJwcm9tcHRfMSIpLmF0dHIoInZpc2liaWxpdHkiLCAiaGlkZGVuIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSg1LCA0MCkiKTsKICAgICAgdmFyIHJlY3QgPSBnX3Byb21wdC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCd3aWR0aCcsIDI5MCkuYXR0cignaGVpZ2h0JywgOTApLmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKS5hdHRyKCdzdHJva2UnLCAnYmxhY2snKS5hdHRyKCd4JywgMCkuYXR0cigneScsIDApOwogICAgICB2YXIgdGV4dCA9IGdfcHJvbXB0LmFwcGVuZCgndGV4dCcpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDE1KS5hdHRyKCdmaWxsJywgJ2JsYWNrJykuYXR0cignZm9udC1zaXplJywgJzEycHgnKTsKICAgICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnVGhlIG1hdHJpeCBkZXNpZ24gaXMgdXNlZCB0byBkaXNwbGF5IGJlaGF2aW9yIHR5cGVzLicpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDMwKTsKICAgICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnRWFjaCByb3cgcmVwcmVzZW50cyBhIGJlaGF2aW9yIHR5cGUgKGUuZy4sIHAxKSwnKS5hdHRyKCd4JywgMTApLmF0dHIoJ3knLCA0NSk7CiAgICAgIHRleHQuYXBwZW5kKCd0c3BhbicpLnRleHQoJ3doaWNoIGNvbnNpc3RzIG9mIG11bHRpcGxlIGJlaGF2aW9yIHZhcmlhYmxlcycpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDYwKTsKICAgICAgdGV4dC5hcHBlbmQoJ3RzcGFuJykudGV4dCgnd2l0aCBkaWZmZXJlbnQgdmFsdWVzLicpLmF0dHIoJ3gnLCAxMCkuYXR0cigneScsIDc1KTsKICAgICAgc3ZnX3RpdGxlLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCA1KS5hdHRyKCJ5IiwgMjApLmF0dHIoImZvbnQtc2l6ZSIsIDE1KS50ZXh0KCJkZXByZXNzaW9uIik7IC8vIOi/m+ihjOmikeeOh+e7n+iuoQoKICAgICAgdmFyIGZyZXExID0ge307CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbMF0ubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIga2V5ID0gZGF0YVswXVtpXTsKICAgICAgICBmcmVxMVtrZXldID0gKGZyZXExW2tleV0gfHwgMCkgKyAxOwogICAgICB9CgogICAgICB2YXIgZnJlcTIgPSB7fTsKCiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGRhdGFbMV0ubGVuZ3RoOyBfaTIrKykgewogICAgICAgIHZhciBfa2V5ID0gZGF0YVsxXVtfaTJdOwogICAgICAgIGZyZXEyW19rZXldID0gKGZyZXEyW19rZXldIHx8IDApICsgMTsKICAgICAgfSAvLyDlsIbpopHnjofnu5/orqHnu5PmnpzovazmjaLkuLrmlbDnu4QKCgogICAgICB2YXIgZGF0YUFycmF5MSA9IE9iamVjdC5lbnRyaWVzKGZyZXExKS5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gWytkWzBdLCBkWzFdXTsKICAgICAgfSk7CiAgICAgIHZhciBkYXRhQXJyYXkyID0gT2JqZWN0LmVudHJpZXMoZnJlcTIpLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBbK2RbMF0sIGRbMV1dOwogICAgICB9KTsKICAgICAgdmFyIGJpbiA9IDAuMzsKICAgICAgZGF0YUFycmF5MS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOwogICAgICB9KTsKICAgICAgZGF0YUFycmF5Mi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOwogICAgICB9KTsKICAgICAgZGF0YUFycmF5MSA9IGRhdGFBcnJheTEucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cnIpIHsKICAgICAgICB2YXIgbGFzdEJpbiA9IGFjYy5sZW5ndGggPiAwID8gYWNjW2FjYy5sZW5ndGggLSAxXVswXSA6IG51bGw7CgogICAgICAgIGlmIChsYXN0QmluICE9PSBudWxsICYmIGN1cnJbMF0gPD0gbGFzdEJpbiArIGJpbikgewogICAgICAgICAgYWNjW2FjYy5sZW5ndGggLSAxXVsxXSArPSBjdXJyWzFdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhY2MucHVzaChbTWF0aC5mbG9vcihjdXJyWzBdIC8gYmluKSAqIGJpbiwgY3VyclsxXV0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwgW10pOwogICAgICBkYXRhQXJyYXkyID0gZGF0YUFycmF5Mi5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VycikgewogICAgICAgIHZhciBsYXN0QmluID0gYWNjLmxlbmd0aCA+IDAgPyBhY2NbYWNjLmxlbmd0aCAtIDFdWzBdIDogbnVsbDsKCiAgICAgICAgaWYgKGxhc3RCaW4gIT09IG51bGwgJiYgY3VyclswXSA8PSBsYXN0QmluICsgYmluKSB7CiAgICAgICAgICBhY2NbYWNjLmxlbmd0aCAtIDFdWzFdICs9IGN1cnJbMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFjYy5wdXNoKFtNYXRoLmZsb29yKGN1cnJbMF0gLyBiaW4pICogYmluLCBjdXJyWzFdXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYWNjOwogICAgICB9LCBbXSk7CiAgICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAuODUsIGQzLm1heChkYXRhQXJyYXkxLmxlbmd0aCA+IGRhdGFBcnJheTIubGVuZ3RoID8gZGF0YUFycmF5MSA6IGRhdGFBcnJheTIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGRbMF07CiAgICAgIH0pXSkucmFuZ2UoWzIwLCB3aWR0aF0pOwogICAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBkMy5tYXgoZGF0YUFycmF5MSwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZFsxXTsKICAgICAgfSldKS5yYW5nZShbaGVpZ2h0LCAwXSk7CiAgICAgIHZhciBhcmVhMSA9IGQzLmFyZWEoKS54KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHgoZFswXSk7CiAgICAgIH0pLnkwKGhlaWdodCkueTEoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4geShkWzFdKTsKICAgICAgfSkuY3VydmUoZDMuY3VydmVCYXNpcyk7CiAgICAgIHZhciBhcmVhMiA9IGQzLmFyZWEoKS54KGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHgoZFswXSk7CiAgICAgIH0pLnkwKGhlaWdodCkueTEoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4geShkWzFdKTsKICAgICAgfSkuY3VydmUoZDMuY3VydmVCYXNpcyk7IC8vIOe7mOWItuWMuuWfn+WbvgoKICAgICAgc3ZnX2RlcHJlc3Npb24uYXBwZW5kKCJkZWZzIikuYXBwZW5kKCJwYXR0ZXJuIikuYXR0cigiaWQiLCAiZGlhZ29uYWwtc3RyaXBlIikuYXR0cigicGF0dGVyblVuaXRzIiwgInVzZXJTcGFjZU9uVXNlIikuYXR0cigid2lkdGgiLCA1KS5hdHRyKCJoZWlnaHQiLCA1KS5hcHBlbmQoInBhdGgiKS5hdHRyKCJkIiwgIk0tMSwxIGwyLC0yIE0wLDUgbDUsLTUgTTksMTEgbDIsLTIiKS5hdHRyKCJzdHJva2UiLCBfdGhpcy53b3JzZV9kaXN0cmlidXRpb25fY29sb3IpLmF0dHIoInN0cm9rZS13aWR0aCIsIDEpOwogICAgICBzdmdfZGVwcmVzc2lvbi5hcHBlbmQoInBhdGgiKS5kYXR1bShkYXRhQXJyYXkxKS5hdHRyKCJmaWxsIiwgX3RoaXMuZGlzdHJpYnV0aW9uX2NvbG9yKS5hdHRyKCJkIiwgYXJlYTEpLmF0dHIoIm9wYWNpdHkiLCAwLjUpLmF0dHIoInN0cm9rZSIsICJibGFjayIpOwogICAgICBzdmdfZGVwcmVzc2lvbi5hcHBlbmQoInBhdGgiKS5kYXR1bShkYXRhQXJyYXkyKS5hdHRyKCJmaWxsIiwgX3RoaXMuZGlzdHJpYnV0aW9uX2NvbG9yKS5hdHRyKCJkIiwgYXJlYTIpLmF0dHIoIm9wYWNpdHkiLCAwLjUpLmF0dHIoInN0cm9rZSIsICJibGFjayIpLmF0dHIoImZpbGwiLCAidXJsKCNkaWFnb25hbC1zdHJpcGUpIik7IC8vIOe7mOWItmxlZ2VuZAoKICAgICAgdmFyIHN2Z19sZWdlbmQgPSBzdmdfZGVwcmVzc2lvbi5hcHBlbmQoJ2cnKTsKICAgICAgc3ZnX2xlZ2VuZC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCJ4IiwgMjMwKS5hdHRyKCJ5IiwgMTApLmF0dHIoImhlaWdodCIsIDEwKS5hdHRyKCJ3aWR0aCIsIDEwKS5hdHRyKCJmaWxsIiwgX3RoaXMuZGlzdHJpYnV0aW9uX2NvbG9yKS5hdHRyKCJzdHJva2UiLCAiYmxhY2siKS5hdHRyKCJvcGFjaXR5IiwgMC41KTsKICAgICAgc3ZnX2xlZ2VuZC5hcHBlbmQoJ3RleHQnKS5hdHRyKCJ4IiwgMjQ1KS5hdHRyKCJ5IiwgMTgpLmF0dHIoImZvbnQtc2l6ZSIsIDEyKS50ZXh0KCJncm91cDEiKTsKICAgICAgc3ZnX2xlZ2VuZC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCJ4IiwgMjMwKS5hdHRyKCJ5IiwgMzApLmF0dHIoImhlaWdodCIsIDEwKS5hdHRyKCJ3aWR0aCIsIDEwKS5hdHRyKCJmaWxsIiwgInVybCgjZGlhZ29uYWwtc3RyaXBlKSIpOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAyMzApLmF0dHIoInkiLCAzMCkuYXR0cigiaGVpZ2h0IiwgMTApLmF0dHIoIndpZHRoIiwgMTApLmF0dHIoImZpbGwiLCBfdGhpcy5kaXN0cmlidXRpb25fY29sb3IpLmF0dHIoInN0cm9rZSIsICJibGFjayIpLmF0dHIoIm9wYWNpdHkiLCAwLjUpOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAyNDUpLmF0dHIoInkiLCAzOCkuYXR0cigiZm9udC1zaXplIiwgMTIpLnRleHQoImdyb3VwMiIpOwogICAgICB2YXIgeHQgPSAzOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAyNDEgLSB4dCkuYXR0cigieSIsIDIwMCkuYXR0cigiaGVpZ2h0IiwgMTApLmF0dHIoIndpZHRoIiwgMjcpLmF0dHIoImZpbGwiLCAnbm9uZScpLmF0dHIoInN0cm9rZSIsICJibGFjayIpLmF0dHIoIm9wYWNpdHkiLCAwLjUpOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgncmVjdCcpLmF0dHIoIngiLCAyNTQgLSB4dCkuYXR0cigieSIsIDIwMCkuYXR0cigiaGVpZ2h0IiwgMTApLmF0dHIoIndpZHRoIiwgMikuYXR0cigiZmlsbCIsICdibGFjaycpLmF0dHIoInN0cm9rZSIsICJibGFjayIpLmF0dHIoIm9wYWNpdHkiLCAwLjQpOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAyMjAgLSB4dCkuYXR0cigieSIsIDIxMCkuYXR0cigiZm9udC1zaXplIiwgMTIpLnRleHQoImxvdyIpOwogICAgICBzdmdfbGVnZW5kLmFwcGVuZCgndGV4dCcpLmF0dHIoIngiLCAyNzAgLSB4dCkuYXR0cigieSIsIDIxMCkuYXR0cigiZm9udC1zaXplIiwgMTIpLnRleHQoImhpZ2giKTsKICAgICAgdmFyIGZvcm1hdEsgPSBkMy5mb3JtYXQoImQiKTsgLy8g5re75YqgIFgg6L20CgogICAgICBzdmdfZGVwcmVzc2lvbi5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArIGhlaWdodCArICIpIikuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKDUpKTsgLy8g5re75YqgIFkg6L20CgogICAgICBzdmdfZGVwcmVzc2lvbi5hcHBlbmQoImciKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDI1LCAwKSIpLmNhbGwoZDMuYXhpc0xlZnQoeSkudGlja3MoNSkudGlja0Zvcm1hdChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBmb3JtYXRLKGQgLyAxMDAwKSArICdrJzsKICAgICAgfSkpOwogICAgfSwKICAgIGRyYXdFYWNoQm94cGxvdDogZnVuY3Rpb24gZHJhd0VhY2hCb3hwbG90KGZsYWcsIGRhdGEsIHN2ZywgeV9zdGFydCwgeTEsIHloZWlnaHQsIHhzY2FsZSwgeHdpZHRoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vIOaVsOaNruagvOW8j+S4uuesrG7kuKrnsbvliKvvvIzmqKrlnZDmoIfliIbluIPku454X3N0YXJ05YiweF9lbmTvvIznhLblkI7nlLvlh7rph4zpnaLmr4/kuKphdHRyaWJ1dGXnmoTliIbluIMKICAgICAgLy8gZGF0YeihqOekuui/meS4gOS4quexu+WIq+eahOaJgOacieaVsOaNrgoKCiAgICAgIHZhciBrZXkgPSBPYmplY3Qua2V5cyhkYXRhWzBdKTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHQpIHsKICAgICAgICAvL+WGmeavj+S4gOS4qmF0dHJpYnV0ZeeahOWQjeWtlwogICAgICAgIGlmIChmbGFnID09IDApIHsKICAgICAgICAgIHN2Zy5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgeHNjYWxlKHQpICsgX3RoaXMueF9kZXZpYXRpb25ba2V5W3RdXSkuYXR0cigieSIsIHlfc3RhcnQgLSAyMCkuYXR0cigiZm9udC1zaXplIiwgMTEpLnRleHQoa2V5W3RdKS5hdHRyKCJvcGFjaXR5IiwgMC4zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3ZnLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCB4c2NhbGUodCkgKyBfdGhpcy54X2RldmlhdGlvbltrZXlbdF1dKS5hdHRyKCJ5IiwgeV9zdGFydCAtIDIwKS5hdHRyKCJmb250LXNpemUiLCAxMCkudGV4dChrZXlbdF0pLmF0dHIoIm9wYWNpdHkiLCAwLjMpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGhlaWdodCA9IHloZWlnaHQgLSA1OwogICAgICAgIHZhciBkYXRhX3RlbXAgPSBkYXRhLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqW2tleVt0XV07CiAgICAgICAgfSk7IC8v5a+55LqO6L+H5aSn55qE5YC85aSE55CG5o6J77yM6K6+572u5LiA5Liq5LiK6ZmQCgogICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgZGF0YV90ZW1wLmxlbmd0aDsgcCsrKSB7CiAgICAgICAgICBpZiAoZGF0YV90ZW1wW3BdID4gX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMV0pIHsKICAgICAgICAgICAgZGF0YV90ZW1wW3BdID0gX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMV07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkYXRhX3NvcnRlZCA9IGRhdGFfdGVtcC5zb3J0KGQzLmFzY2VuZGluZyk7CiAgICAgICAgcTEgPSBkMy5xdWFudGlsZShkYXRhX3NvcnRlZCwgLjI1KTsKICAgICAgICBtZWRpYW4gPSBkMy5xdWFudGlsZShkYXRhX3NvcnRlZCwgLjUpOwogICAgICAgIHEzID0gZDMucXVhbnRpbGUoZGF0YV9zb3J0ZWQsIC43NSk7CgogICAgICAgIGlmIChtZWRpYW4gPT0gcTEgfHwgbWVkaWFuID09IHEzKSB7CiAgICAgICAgICBtZWRpYW4gPSAocTEgKyBxMykgLyAyOwogICAgICAgIH0KCiAgICAgICAgaW50ZXJRdWFudGlsZVJhbmdlID0gcTMgLSBxMTsKICAgICAgICBtaW4gPSBxMSAtIDEuNSAqIGludGVyUXVhbnRpbGVSYW5nZTsKICAgICAgICBtYXggPSBxMSArIDEuNSAqIGludGVyUXVhbnRpbGVSYW5nZTsgLy8gKioqKioqKioqKirkuI3og73otoXov4fmnIDlpKfmnIDlsI/ojIPlm7QqKioqKioqKioqKioqKioqKgoKICAgICAgICBpZiAobWluIDwgX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMF0pIHsKICAgICAgICAgIC8v5pyA5bCP5YC85LiN5Lya5Li66LSfCiAgICAgICAgICBtaW4gPSBfdGhpcy5taW5fbWF4X2xpc3Rba2V5W3RdXVswXTsKICAgICAgICB9CgogICAgICAgIGlmIChtYXggPiBfdGhpcy5taW5fbWF4X2xpc3Rba2V5W3RdXVsxXSkgewogICAgICAgICAgbWF4ID0gX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMV07CiAgICAgICAgfSAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKCgogICAgICAgIGNlbnRlciA9IHkxICsgaGVpZ2h0IC8gMjsgLy/kuK3lv4Pnur/lupTor6XnlLvlnKjlk6rph4wKCiAgICAgICAgeHNjYWxlX3RlbXAgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFt4c2NhbGUodCkgKyA2LCB4c2NhbGUodCkgKyB4d2lkdGggLSA2XSkuZG9tYWluKFtfdGhpcy5taW5fbWF4X2xpc3Rba2V5W3RdXVswXSwgX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMV1dKTsgLy8g5aaC5p6c6L+Z5Liq5YC85piv5pyJ5oSP5LmJ55qE77yM5Y2zcTEsIG1lZGlhbiwgcTMsIG1heCAhPSAtMe+8jOWImeeUu+ebkuWbvgogICAgICAgIC8v5Ye6546wbWF4LCBtaW7lkIzkuIDkuKrlgLzvvIzkuLrkuobnnIvlvpfmm7TmuIXmpZrvvIzorqnlhbbot53nprvkuLoyCgogICAgICAgIHgxX2xpbmUgPSB4c2NhbGVfdGVtcChtaW4pOwogICAgICAgIHgyX2xpbmUgPSB4c2NhbGVfdGVtcChtYXgpOwoKICAgICAgICBpZiAobWF4IC0gbWluIDwgX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMV0gKiAwLjEpIHsKICAgICAgICAgIGlmIChtaW4gPT0gX3RoaXMubWluX21heF9saXN0W2tleVt0XV1bMF0pIHsKICAgICAgICAgICAgeDJfbGluZSA9IHhzY2FsZV90ZW1wKG1heCkgKyAyOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgeDFfbGluZSA9IHhzY2FsZV90ZW1wKG1pbikgLSAyOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZ19ib3hwbG90X2NvbnRyb2wgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigid2lkdGgiLCAxMDApLmF0dHIoImhlaWdodCIsIDIwMCkuYXR0cigiY2xhc3MiLCAiZGlzdHJpYnV0aW9uIGJveHBsb3QgIiArIGZsYWcpLmF0dHIoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgZ19ib3hwbG90ID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoIndpZHRoIiwgMTAwKS5hdHRyKCJoZWlnaHQiLCAyMDApLmF0dHIoImNsYXNzIiwgImRpc3RyaWJ1dGlvbiBjb250ZW50ICIgKyBmbGFnKTsKCiAgICAgICAgaWYgKG1heCAhPSAtMSkgewogICAgICAgICAgLy8gc2hvdyBtZWRpYW4gaG9yaXpvbnRhbCBsaW5lcwogICAgICAgICAgZ19ib3hwbG90LnNlbGVjdEFsbCgidG90byIpLmRhdGEoW3hzY2FsZV90ZW1wKG1lZGlhbildKS5lbnRlcigpLmFwcGVuZCgibGluZSIpLmF0dHIoIngxIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICB9KS5hdHRyKCJ4MiIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgICAgfSkuYXR0cigieTEiLCB5MSkuYXR0cigieTIiLCB5MSArIGhlaWdodCkuYXR0cigic3Ryb2tlIiwgX3RoaXMubWVkaWFuX2NvbG9yKS5hdHRyKCJzdHJva2Utd2lkdGgiLCAzKS5hdHRyKCJvcGFjaXR5IiwgMC41KTsgLy/lhYjnlLvkuK3lv4PnmoTnur8KCiAgICAgICAgICBnX2JveHBsb3RfY29udHJvbC5hcHBlbmQoImxpbmUiKS5hdHRyKCJ4MSIsIHgxX2xpbmUpLmF0dHIoIngyIiwgeDJfbGluZSkuYXR0cigieTEiLCBjZW50ZXIpLmF0dHIoInkyIiwgY2VudGVyKS5hdHRyKCJzdHJva2UiLCBfdGhpcy5ib3VuZGluZ2JveF9jb2xvcik7IC8vIFNob3cgdGhlIGJveAoKICAgICAgICAgIGdfYm94cGxvdF9jb250cm9sLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCB4c2NhbGVfdGVtcChxMSkpLmF0dHIoInkiLCB5MSArIGhlaWdodCAvIDMpLmF0dHIoImhlaWdodCIsIGhlaWdodCAvIDMpLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoeHNjYWxlX3RlbXAocTMpIC0geHNjYWxlX3RlbXAocTEpID09IDApIHsKICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4geHNjYWxlX3RlbXAocTMpIC0geHNjYWxlX3RlbXAocTEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5hdHRyKCJzdHJva2UiLCBfdGhpcy5ib3VuZGluZ2JveF9jb2xvcikuc3R5bGUoImZpbGwiLCBfdGhpcy5ib3hfY29sb3IpOyAvLyBzaG93IG1pbiBhbmQgbWF4IGhvcml6b250YWwgbGluZXMKCiAgICAgICAgICBnX2JveHBsb3RfY29udHJvbC5zZWxlY3RBbGwoInRvdG8iKS5kYXRhKFt4MV9saW5lLCB4Ml9saW5lXSkuZW50ZXIoKS5hcHBlbmQoImxpbmUiKS5hdHRyKCJ4MSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgICAgfSkuYXR0cigieDIiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICByZXR1cm4gZDsKICAgICAgICAgIH0pLmF0dHIoInkxIiwgeTEgKyBoZWlnaHQgLyAzKS5hdHRyKCJ5MiIsIHkxICsgaGVpZ2h0IC8gMyAqIDIpLmF0dHIoInN0cm9rZSIsIF90aGlzLmJvdW5kaW5nYm94X2NvbG9yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZ19ib3hwbG90LmFwcGVuZCgibGluZSIpLmF0dHIoIngxIiwgeHNjYWxlKHQpICsgNikuYXR0cigieDIiLCB4c2NhbGUodCkgKyB4d2lkdGggLSA2KS5hdHRyKCJ5MSIsIGNlbnRlcikuYXR0cigieTIiLCBjZW50ZXIpLmF0dHIoInN0cm9rZSIsIF90aGlzLmJvdW5kaW5nYm94X2NvbG9yKS5hdHRyKCJzdHJva2UtZGFzaGFycmF5IiwgIjMsIDUiKTsKICAgICAgICB9IC8vIOeUu+ahhgoKCiAgICAgICAgc3ZnLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCB4c2NhbGUodCkpLmF0dHIoInkiLCB5MSkuYXR0cigid2lkdGgiLCB4d2lkdGggLSAyKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpLmF0dHIoIm9wYWNpdHkiLCAwLjIpLnN0eWxlKCJzdHJva2UiLCBfdGhpcy5ub3JtYWxfY29sb3IpLnN0eWxlKCJmaWxsIiwgIm5vbmUiKS5hdHRyKCJjbGFzcyIsICJkaXN0cmlidXRpb24gYm91bmRpbmdib3ggIiArIGZsYWcpOwogICAgICB9OwoKICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBrZXkubGVuZ3RoOyB0KyspIHsKICAgICAgICB2YXIgZGF0YV9zb3J0ZWQ7CiAgICAgICAgdmFyIHExOwogICAgICAgIHZhciBtZWRpYW47CiAgICAgICAgdmFyIHEzOwogICAgICAgIHZhciBpbnRlclF1YW50aWxlUmFuZ2U7CiAgICAgICAgdmFyIG1pbjsKICAgICAgICB2YXIgbWF4OwogICAgICAgIHZhciBjZW50ZXI7CiAgICAgICAgdmFyIHhzY2FsZV90ZW1wOwogICAgICAgIHZhciB4MV9saW5lOwogICAgICAgIHZhciB4Ml9saW5lOwogICAgICAgIHZhciBnX2JveHBsb3RfY29udHJvbDsKICAgICAgICB2YXIgZ19ib3hwbG90OwoKICAgICAgICBfbG9vcCh0KTsKICAgICAgfQogICAgfSwKICAgIGRyYXdFYWNoRGlzdHJpYnV0aW9uOiBmdW5jdGlvbiBkcmF3RWFjaERpc3RyaWJ1dGlvbihmbGFnLCBkYXRhLCBzdmcsIHlfc3RhcnQsIHkxLCB5aGVpZ2h0LCB4c2NhbGUsIHh3aWR0aCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyDmlbDmja7moLzlvI/kuLrnrKxu5Liq57G75Yir77yM5qiq5Z2Q5qCH5YiG5biD5LuOeF9zdGFydOWIsHhfZW5k77yM54S25ZCO55S75Ye66YeM6Z2i5q+P5LiqYXR0cmlidXRl55qE5YiG5biDCgoKICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKGRhdGFbMF0pOyAvL2NvbnNvbGUubG9nKGtleSkKCiAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIodCkgewogICAgICAgIC8v5YaZ5q+P5LiA5LiqYXR0cmlidXRl55qE5ZCN5a2XCiAgICAgICAgaWYgKGZsYWcgPT0gMCkgewogICAgICAgICAgc3ZnLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCB4c2NhbGUodCkgKyAoMTAgLSBrZXlbdF0ubGVuZ3RoKSAvIDAuNSArIDgpLmF0dHIoInkiLCB5X3N0YXJ0IC0gMjApLmF0dHIoImZvbnQtc2l6ZSIsIDcpLnRleHQoa2V5W3RdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3ZnLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCB4c2NhbGUodCkgKyAoMTAgLSBrZXlbdF0ubGVuZ3RoKSAvIDAuNSArIDE1KS5hdHRyKCJ5IiwgeV9zdGFydCAtIDIwKS5hdHRyKCJmb250LXNpemUiLCA3KS50ZXh0KGtleVt0XSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgaGVpZ2h0ID0geWhlaWdodCAtIDU7CiAgICAgICAgdmFyIGRhdGFfdGVtcCA9IGRhdGEubWFwKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgIHJldHVybiBvYmpba2V5W3RdXTsKICAgICAgICB9KTsgLy9jb25zb2xlLmxvZyhrZXlbdF0sIF90aGlzLmdldE1pbk9mQXJyYXkoZGF0YV90ZW1wKSwgX3RoaXMuZ2V0TWF4T2ZBcnJheShkYXRhX3RlbXApKQoKICAgICAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW190aGlzLm1pbl9tYXhfbGlzdFtrZXlbdF1dWzBdLCBfdGhpcy5taW5fbWF4X2xpc3Rba2V5W3RdXVsxXV0pLnJhbmdlKFt4c2NhbGUodCkgKyA1LCB4c2NhbGUodCkgKyB4d2lkdGggLSA1XSk7CiAgICAgICAgYmlucyA9IGQzLmhpc3RvZ3JhbSgpLmRvbWFpbih4LmRvbWFpbigpKS50aHJlc2hvbGRzKHgudGlja3MoMzApKShkYXRhX3RlbXApOwogICAgICAgIG1heCA9IGQzLm1heChiaW5zLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQueTsKICAgICAgICB9KTsKICAgICAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIC4xXSkucmFuZ2UoW3kxLCB5MSArIDMwXSk7CiAgICAgICAgeUZvckhpc3RvZ3JhbSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBkMy5tYXgoYmlucywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLmxlbmd0aDsKICAgICAgICB9KV0pLnJhbmdlKFtoZWlnaHQsIDBdKTsgLy8g5Zyo5q+P5LiqYXR0cmlidXRl5LiL55S75Z2Q5qCH6L20CgogICAgICAgIGF4aXMgPSBkMy5heGlzVG9wKHgpLnRpY2tzKDMpLnRpY2tTaXplT3V0ZXIoMykudGlja1NpemVJbm5lcigxKTsKICAgICAgICBzdmcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIgKyAoeV9zdGFydCAtIDEwKSArICIpIikuY2FsbChheGlzKS5zdHlsZSgiZm9udC1zaXplIiwgIjVweCIpLmF0dHIoImNsYXNzIiwgImRpc3RyaWJ1dGlvbiBheGlzIik7CgogICAgICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMocCkgewogICAgICAgICAgc3ZnLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCB4KGJpbnNbcF0ueDApKS5hdHRyKCJ5IiwgeUZvckhpc3RvZ3JhbShiaW5zW3BdLmxlbmd0aCkgKyB5MSkuYXR0cigiZmlsbCIsIF90aGlzLmRpc3RyaWJ1dGlvbl9jb2xvcikuYXR0cigid2lkdGgiLCB4KGJpbnNbMF0ueDEpIC0geChiaW5zWzBdLngwKSkuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIGhlaWdodCAtIHlGb3JIaXN0b2dyYW0oYmluc1twXS5sZW5ndGgpOwogICAgICAgICAgfSkuYXR0cigiY2xhc3MiLCAiZGlzdHJpYnV0aW9uIGNvbnRlbnQiKTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IGJpbnMubGVuZ3RoOyBwKyspIHsKICAgICAgICAgIF9sb29wMyhwKTsKICAgICAgICB9CgogICAgICAgIHN2Zy5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgeHNjYWxlKHQpKS5hdHRyKCJ5IiwgeTEpLmF0dHIoIndpZHRoIiwgeHdpZHRoIC0gMikuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KS5hdHRyKCJvcGFjaXR5IiwgMC4zKS5zdHlsZSgic3Ryb2tlIiwgX3RoaXMubm9ybWFsX2NvbG9yKS5zdHlsZSgiZmlsbCIsICJub25lIikuYXR0cigiY2xhc3MiLCAiZGlzdHJpYnV0aW9uIGJvdW5kaW5nYm94Iik7CiAgICAgIH07CgogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGtleS5sZW5ndGg7IHQrKykgewogICAgICAgIHZhciB4OwogICAgICAgIHZhciBiaW5zOwogICAgICAgIHZhciBtYXg7CiAgICAgICAgdmFyIHk7CiAgICAgICAgdmFyIHlGb3JIaXN0b2dyYW07CiAgICAgICAgdmFyIGF4aXM7CgogICAgICAgIF9sb29wMih0KTsKICAgICAgfQogICAgfSwKICAgIGRyYXdDbHVzdGVyRGlzdHJpYnV0aW9uOiBmdW5jdGlvbiBkcmF3Q2x1c3RlckRpc3RyaWJ1dGlvbihmbGFnLCBkYXRhLCB4X3N0YXJ0LCB5X3N0YXJ0KSB7CiAgICAgIHZhciBhdHRyaWJ1dGVfbnVtYmVyID0gZGF0YVswXVswXS5sZW5ndGg7CiAgICAgIHZhciBjbHVzdGVyX251bWJlciA9IGRhdGEubGVuZ3RoOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzdmdfZGlzdHJpYnV0aW9uID0gZDMuc2VsZWN0KCIuc3ZnIikuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAiY2x1c3RlcmRpc3RyaWJ1dGlvbiIpOwogICAgICB2YXIgYXR0cmlidXRlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVfbnVtYmVyOyBpKyspIHsKICAgICAgICBhdHRyaWJ1dGVzLnB1c2goaSk7CiAgICAgIH0KCiAgICAgIHZhciB4c2NhbGUgPSBkMy5zY2FsZUJhbmQoKS5yYW5nZShbeF9zdGFydCAtIDEwLCB4X3N0YXJ0ICsgMjQwXSkuZG9tYWluKGF0dHJpYnV0ZXMpOwogICAgICB2YXIgY2x1c3RlcnMgPSBbXTsKCiAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGNsdXN0ZXJfbnVtYmVyOyBfaTMrKykgewogICAgICAgIGNsdXN0ZXJzLnB1c2goX2kzKTsKICAgICAgfQoKICAgICAgdmFyIHlzY2FsZSA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFt5X3N0YXJ0IC0gMTUsIHlfc3RhcnQgKyAxNzBdKS5kb21haW4oY2x1c3RlcnMpOwogICAgICB2YXIgcGVvcGxlX3N1bSA9IDA7CgogICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBjbHVzdGVyX251bWJlcjsgX2k0KyspIHsKICAgICAgICBwZW9wbGVfc3VtID0gcGVvcGxlX3N1bSArIGRhdGFbX2k0XS5sZW5ndGg7CiAgICAgIH0gLy8g5YaZ5LiK5oC75Lq65pWwCgoKICAgICAgaWYgKGZsYWcgPT0gMCkgewogICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc3RhcnQgKyAxNzUpLmF0dHIoInkiLCAyMCkuYXR0cigiZm9udC1zaXplIiwgMTUpLnRleHQoInN1bSA6ICIgKyBwZW9wbGVfc3VtKS5hdHRyKCJjbGFzcyIsICJhY3RpdmUgY2x1c3RlciBuYW1lIik7CiAgICAgIH0KCiAgICAgIGlmIChmbGFnID09IDApIHsKICAgICAgICAvL+S4u+WKqAogICAgICAgIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGNsdXN0ZXJfbnVtYmVyOyBfaTUrKykgewogICAgICAgICAgLy/lhpljbHVzdGVy55qE5bqP5Y+3CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHhfc3RhcnQsIHlzY2FsZVtpXSwgY2x1c3RlcnMpCiAgICAgICAgICBzdmdfZGlzdHJpYnV0aW9uLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCB4X3N0YXJ0IC0gMjkpLmF0dHIoInkiLCB5c2NhbGUoX2k1KSAtIDMpLmF0dHIoImhlaWdodCIsIHlzY2FsZSgxKSAtIHlzY2FsZSgwKSAtIDEwKS5hdHRyKCJ3aWR0aCIsIDI5NikuYXR0cigiY2xhc3MiLCAiYmcgYSIgKyAoX2k1ICsgMSkpLmF0dHIoImZpbGwiLCBfdGhpcy5zdHJva2VfY29sb3IpLmF0dHIoIm9wYWNpdHkiLCAwLjA4KS5hdHRyKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOwogICAgICAgICAgc3ZnX2Rpc3RyaWJ1dGlvbi5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgeF9zdGFydCAtIDI4KS5hdHRyKCJ5IiwgeXNjYWxlKF9pNSkgKyAxMDAgLyBjbHVzdGVyX251bWJlciAvIDIgKyA1KS5hdHRyKCJmb250LXNpemUiLCAxMykudGV4dCgicCIgKyAoX2k1ICsgMSkpLmF0dHIoImNsYXNzIiwgImFjdGl2ZSBjbHVzdGVyIG5hbWUiKTsKICAgICAgICAgIHZhciBkYXRhX3RlbXAgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbX2k1XS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBkYXRhX3RlbXAucHVzaCh7CiAgICAgICAgICAgICAgIkZyZShwb3N0KSI6IGRhdGFbX2k1XVtqXVswXSwKICAgICAgICAgICAgICAiaW50ZXJ2YWwiOiBkYXRhW19pNV1bal1bMV0sCiAgICAgICAgICAgICAgInNvdWdodCBJUyI6IGRhdGFbX2k1XVtqXVsyXSwKICAgICAgICAgICAgICAic291Z2h0IEVTIjogZGF0YVtfaTVdW2pdWzNdLAogICAgICAgICAgICAgICJ0b3hpY2l0eSI6IGRhdGFbX2k1XVtqXVs0XQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8g5oqK6L+Z5Liq57uE55qE5Lq65pWw5pS+5Zyo5pyA5ZCO6Z2iCgoKICAgICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc3RhcnQgKyAyNDgpLmF0dHIoInkiLCAyODApLmF0dHIoImZvbnQtc2l6ZSIsIDEwKS50ZXh0KCIlIikuYXR0cigiY2xhc3MiLCAiYWN0aXZlIGNsdXN0ZXIgbmFtZSIpOwogICAgICAgICAgc3ZnX2Rpc3RyaWJ1dGlvbi5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgeF9zdGFydCArIDI0MCkuYXR0cigieSIsIHlzY2FsZShfaTUpICsgMTAwIC8gY2x1c3Rlcl9udW1iZXIgLyAyIC0gNikuYXR0cigid2lkdGgiLCAyNSkuYXR0cigiaGVpZ2h0IiwgMTIpLmF0dHIoImZpbGwiLCBfdGhpcy5udW1iZXJfY29sb3IpLnN0eWxlKCJzdHJva2UiLCAibm9uZSIpLnN0eWxlKCJvcGFjaXR5IiwgMC41KS5hdHRyKCJjbGFzcyIsICJhY3RpdmUgY2x1c3RlciBuYW1lIik7CiAgICAgICAgICBzdmdfZGlzdHJpYnV0aW9uLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCB4X3N0YXJ0ICsgMjQwKS5hdHRyKCJ5IiwgeXNjYWxlKF9pNSkgKyAxMDAgLyBjbHVzdGVyX251bWJlciAvIDIgKyA0KS5hdHRyKCJmb250LXNpemUiLCAxMCkudGV4dCgoZGF0YV90ZW1wLmxlbmd0aCAvIHBlb3BsZV9zdW0pLnRvRml4ZWQoMykpLmF0dHIoImNsYXNzIiwgImFjdGl2ZSBjbHVzdGVyIG5hbWUiKTsKCiAgICAgICAgICBfdGhpcy5kcmF3RWFjaEJveHBsb3QoMCwgZGF0YV90ZW1wLCBzdmdfZGlzdHJpYnV0aW9uLCB5X3N0YXJ0LCB5c2NhbGUoX2k1KSwgMTMwIC8gY2x1c3Rlcl9udW1iZXIsIHhzY2FsZSwgMjUwIC8gYXR0cmlidXRlX251bWJlcik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IGNsdXN0ZXJfbnVtYmVyOyBfaTYrKykgewogICAgICAgICAgLy/lhpljbHVzdGVy55qE5bqP5Y+3CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh4X3N0YXJ0LCB5c2NhbGVbaV0sIGNsdXN0ZXJzKQogICAgICAgICAgc3ZnX2Rpc3RyaWJ1dGlvbi5hcHBlbmQoInJlY3QiKS5hdHRyKCJ4IiwgeF9zdGFydCAtIDI4KS5hdHRyKCJ5IiwgeXNjYWxlKF9pNikgLSAzKS5hdHRyKCJoZWlnaHQiLCB5c2NhbGUoMSkgLSB5c2NhbGUoMCkgLSAxMCkuYXR0cigid2lkdGgiLCAzMDApLmF0dHIoImNsYXNzIiwgImJnIHAiICsgKF9pNiArIDEpKS5hdHRyKCJmaWxsIiwgX3RoaXMuc3Ryb2tlX2NvbG9yKS5hdHRyKCJvcGFjaXR5IiwgMC4wOCkuYXR0cigidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc3RhcnQgLSAyOCkuYXR0cigieSIsIHlzY2FsZShfaTYpICsgMTAwIC8gY2x1c3Rlcl9udW1iZXIgLyAyICsgNSkuYXR0cigiZm9udC1zaXplIiwgMTMpLnRleHQoInIiICsgKF9pNiArIDEpKTsKICAgICAgICAgIHZhciBfZGF0YV90ZW1wID0gW107CgogICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGRhdGFbX2k2XS5sZW5ndGg7IF9qKyspIHsKICAgICAgICAgICAgX2RhdGFfdGVtcC5wdXNoKHsKICAgICAgICAgICAgICAiTnVtKHJlc3BvbnNlKSI6IGRhdGFbX2k2XVtfal1bM10sCiAgICAgICAgICAgICAgIlRpbWUocmVzcG9uc2UpIjogZGF0YVtfaTZdW19qXVswXSwKICAgICAgICAgICAgICAicmVjZWl2ZWQgSVMiOiBkYXRhW19pNl1bX2pdWzFdLAogICAgICAgICAgICAgICJyZWNlaXZlZCBFUyI6IGRhdGFbX2k2XVtfal1bMl0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IC8v5Yqg5LiK5Lq65pWw5q+U5L6LCgoKICAgICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc3RhcnQgKyAyNDgpLmF0dHIoInkiLCA1MTApLmF0dHIoImZvbnQtc2l6ZSIsIDEwKS50ZXh0KCIlIikuYXR0cigiY2xhc3MiLCAicGFzc2l2ZSBjbHVzdGVyIG5hbWUiKTsKICAgICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJyZWN0IikuYXR0cigieCIsIHhfc3RhcnQgKyAyNDApLmF0dHIoInkiLCB5c2NhbGUoX2k2KSArIDEwMCAvIGNsdXN0ZXJfbnVtYmVyIC8gMiAtIDYpLmF0dHIoIndpZHRoIiwgMjUpLmF0dHIoImhlaWdodCIsIDEyKS5hdHRyKCJmaWxsIiwgX3RoaXMubnVtYmVyX2NvbG9yKS5zdHlsZSgic3Ryb2tlIiwgIm5vbmUiKS5zdHlsZSgib3BhY2l0eSIsIDAuNSkuYXR0cigiY2xhc3MiLCAicGFzc2l2ZSBjbHVzdGVyIG5hbWUiKTsKICAgICAgICAgIHN2Z19kaXN0cmlidXRpb24uYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIHhfc3RhcnQgKyAyNDApLmF0dHIoInkiLCB5c2NhbGUoX2k2KSArIDEwMCAvIGNsdXN0ZXJfbnVtYmVyIC8gMiArIDQpLmF0dHIoImZvbnQtc2l6ZSIsIDEwKS50ZXh0KChfZGF0YV90ZW1wLmxlbmd0aCAvIHBlb3BsZV9zdW0pLnRvRml4ZWQoMykpLmF0dHIoImNsYXNzIiwgInBhc3NpdmUgY2x1c3RlciBuYW1lIik7CgogICAgICAgICAgX3RoaXMuZHJhd0VhY2hCb3hwbG90KDEsIF9kYXRhX3RlbXAsIHN2Z19kaXN0cmlidXRpb24sIHlfc3RhcnQsIHlzY2FsZShfaTYpLCAxMzAgLyBjbHVzdGVyX251bWJlciwgeHNjYWxlLCAyNTAgLyBhdHRyaWJ1dGVfbnVtYmVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkcmF3VGl0bGU6IGZ1bmN0aW9uIGRyYXdUaXRsZShmbGFnLCB0ZXh0LCBzdmcsIHhfc3RhcnQsIHlfc3RhcnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsgLy/lkI3lrZcKCgogICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZmxhZyA9PSAwKSB7CiAgICAgICAgICByZXR1cm4geF9zdGFydCAtIDEzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4geF9zdGFydCAtIDE1OwogICAgICAgIH0KICAgICAgfSkuYXR0cigieSIsIHlfc3RhcnQgKyAzKS5hdHRyKCJmb250LXNpemUiLCAxNSkudGV4dCh0ZXh0KTsgLy8g5Lit6Ze05Yqg5LiA5Liq5YaS5Y+3CgogICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikuYXR0cigieCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZmxhZyA9PSAwKSB7CiAgICAgICAgICByZXR1cm4geF9zdGFydCArIDQ2OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4geF9zdGFydCArIDQyOwogICAgICAgIH0KICAgICAgfSkuYXR0cigieSIsIHlfc3RhcnQgKyAzKS5hdHRyKCJmb250LXNpemUiLCAxNSkudGV4dCgiOiIpOyAvL+eOsOWcqOmAieaLqeeahGvlgLzmmK/lpJrlsJEKCiAgICAgIHN2Zy5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgeF9zdGFydCArIDUwKS5hdHRyKCJ5IiwgeV9zdGFydCArIDQpLmF0dHIoImZvbnQtc2l6ZSIsIDE1KS50ZXh0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZmxhZyA9PSAwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZlX2s7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5wYXNzaXZlX2s7CiAgICAgICAgfQogICAgICB9KS5hdHRyKCJjbGFzcyIsICJrdmFsdWUgIiArIGZsYWcpOwogICAgICB2YXIgc2xpZGVyID0gc2xpZGVyQm90dG9tKCkudGlja3MoMCkubWluKDEpLm1heCgxMCkuc3RlcCgxKS53aWR0aCgxNTApLmhhbmRsZShkMy5zeW1ib2woKS50eXBlKGQzLnN5bWJvbENpcmNsZSkuc2l6ZSgxMDApKCkpLmRpc3BsYXlWYWx1ZShmYWxzZSkub24oJ29uY2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgaWYgKGZsYWcgPT0gMCkgewogICAgICAgICAgX3RoaXMuYWN0aXZlX2sgPSB2YWx1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMucGFzc2l2ZV9rID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9KS5kZWZhdWx0KDUpLmZpbGwoW190aGlzLnNsaWRlcl9jb2xvcl0pOwogICAgICB2YXIgZyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAidHJhbnNsYXRlKDkwLCIgKyB5X3N0YXJ0ICsgIikiKTsKICAgICAgZy5jYWxsKHNsaWRlcik7CiAgICB9LAogICAgZHJhd0tJbnB1dDogZnVuY3Rpb24gZHJhd0tJbnB1dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzdmdfc2VsZWN0ID0gZDMuc2VsZWN0KCIuYmVoYXZpb3J2aWV3Ym9keSIpLmFwcGVuZCgic3ZnIikuYXR0cigid2lkdGgiLCAzMDApLmF0dHIoImhlaWdodCIsIDc1MCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAic3ZnIik7IC8vIOmAieaLqeS4u+WKqOihjOS4uueahOexu+WIq+aVsOebrgoKICAgICAgX3RoaXMuZHJhd1RpdGxlKDAsICJwcm9hY3RpdmUiLCBzdmdfc2VsZWN0LCAyMCwgMjUwKTsgLy8g6YCJ5oup6KKr5Yqo6KGM5Li655qE57G75Yir5pWw55uuCgoKICAgICAgX3RoaXMuZHJhd1RpdGxlKDEsICJyZWFjdGl2ZSIsIHN2Z19zZWxlY3QsIDIwLCA0ODApOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/shengrui/Desktop/vis2023/system/system/frontend/src/components/BehaviormodeView/BehaviormodeView.js"],"names":["dataService","pipeService","sliderBottom","sliderLeft","d3","$","bin","range","name","components","props","computed","data","data_group1","data_group2","stroke_color","normal_color","boundingbox_color","distribution_color","box_color","median_color","number_color","slider_color","background_color","worse_distribution_color","active_k","passive_k","active_x","active_y","passive_x","passive_y","boxplot","min_max_list","x_deviation","watch","_this","remove","svg","select","append","attr","transmit_depression","drawDepressionDistribution","transmit_k","drawClusterDistribution","transmit_segment","msg","emitSegment","transmit_stage_summarization","emitStage","transmit_pattern","emitPattern","transmit_path","emitPath","mounted","drawLegend","drawKInput","onDataset","css","onAP","ap_list","i","includes","methods","g_legend","on","text","getMaxOfArray","numArray","Math","max","apply","getMinOfArray","min","console","log","width","height","svg_depression","svg_title","g_prompt","rect","freq1","length","key","freq2","dataArray1","Object","entries","map","d","dataArray2","sort","a","b","reduce","acc","curr","lastBin","push","floor","x","scaleLinear","domain","y","area1","area","y0","y1","curve","curveBasis","area2","datum","svg_legend","xt","formatK","format","call","axisBottom","ticks","axisLeft","tickFormat","drawEachBoxplot","flag","y_start","yheight","xscale","xwidth","keys","t","data_temp","obj","p","data_sorted","ascending","q1","quantile","median","q3","interQuantileRange","center","xscale_temp","x1_line","x2_line","g_boxplot_control","g_boxplot","selectAll","enter","style","drawEachDistribution","bins","histogram","thresholds","yForHistogram","axis","axisTop","tickSizeOuter","tickSizeInner","x0","x1","x_start","attribute_number","cluster_number","svg_distribution","attributes","scaleBand","clusters","yscale","people_sum","j","toFixed","drawTitle","slider","step","handle","symbol","type","symbolCircle","size","displayValue","value","default","fill","g","svg_select"],"mappings":"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","sourcesContent":["import dataService from '../../service/dataService.js'\nimport pipeService from '../../service/pipeService.js'\nimport { sliderBottom, sliderLeft } from 'd3-simple-slider'\nimport * as d3 from 'd3'\nimport $ from 'jquery'\nimport { bin, range } from 'd3'\n\nexport default {\n    name: 'BehaviormodeView',\n    components: {\n    },\n    props: {\n    },\n    computed: {\n    },\n    data() {\n        return {\n            data_group1: 'simulated_MHOT',\n            data_group2: 'simulated_MHSW',\n            stroke_color: \"#D1B24D\", //behavior view\n            normal_color: '#2f3e46', //normal color\n            boundingbox_color: '#d9d9d9', //\n            distribution_color: '#C9CBD1',\n            box_color: '#C9CBD1',\n            median_color: '#404042',\n            number_color: 'white', //\n            slider_color: '#C9CBD1',\n            background_color: 'white',\n            worse_distribution_color: '#432818',\n            active_k: 5,\n            passive_k: 5,\n            active_x: 30, //active\n            active_y: 300,\n            passive_x: 30,\n            passive_y: 530,\n            boxplot: 0,\n            min_max_list: { \"Fre(post)\": [0, 20], \"interval\": [0, 14], \"sought IS\": [0, 3], \"sought ES\": [0, 3], \"toxicity\": [0, 1], \"Time(response)\": [1, 3], \"received IS\": [0, 3], \"received ES\": [0, 3], \"Num(response)\": [0, 3] },\n            x_deviation: { \"Fre(post)\": 2, \"interval\": 7, \"sought IS\": 1, \"sought ES\": 2, \"toxicity\": 7, \"Num(response)\": -7, \"Time(response)\": 0, \"received IS\": 10, \"received ES\": 5 },\n        }\n    },\n    watch: {\n        data_group1: function () {\n            const _this = this\n            $('.clusterdistribution').remove()\n            $('.depressiondistribution').remove()\n            $('.progressionoverview').remove()\n            $('.progressionstage').remove()\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            const svg = d3.select(\".stageviewbody\")\n                .append(\"svg\")\n                .attr(\"width\", 900)\n                .attr(\"height\", 280)\n                .attr(\"class\", \"progressionstage\")\n            dataService.transmit_depression([_this.data_group1, _this.data_group2], (data) => {\n                _this.drawDepressionDistribution(data)\n            })\n            dataService.transmit_k([_this.data_group1, _this.data_group2, _this.active_k, _this.passive_k], (data) => {\n                _this.drawClusterDistribution(0, data[0], _this.active_x, _this.active_y)\n                _this.drawClusterDistribution(1, data[1], _this.passive_x, _this.passive_y)\n                dataService.transmit_segment([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitSegment(msg)\n                })\n                dataService.transmit_stage_summarization([_this.data_group1, _this.data_group2], (msg) => {\n                    //console.log(\"transmit_stage_summarization\", msg)\n                    pipeService.emitStage([_this.active_k, _this.passive_k, msg])\n                })\n                dataService.transmit_pattern([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitPattern(msg)\n                })\n                dataService.transmit_path([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitPath(msg)\n                })\n            })\n        },\n        data_group2: function () {\n            const _this = this\n            $('.clusterdistribution').remove()\n            $('.depressiondistribution').remove()\n            $('.progressionoverview').remove()\n            $('.progressionstage').remove()\n            $(\".patternresult\").remove()\n            $(\".pattern\").remove()\n            $(\".path\").remove()\n            const svg = d3.select(\".stageviewbody\")\n                .append(\"svg\")\n                .attr(\"width\", 900)\n                .attr(\"height\", 280)\n                .attr(\"class\", \"progressionstage\")\n            dataService.transmit_depression([_this.data_group1, _this.data_group2], (data) => {\n                _this.drawDepressionDistribution(data)\n            })\n            dataService.transmit_k([_this.data_group1, _this.data_group2, _this.active_k, _this.passive_k], (data) => {\n                _this.drawClusterDistribution(0, data[0], _this.active_x, _this.active_y)\n                _this.drawClusterDistribution(1, data[1], _this.passive_x, _this.passive_y)\n                dataService.transmit_segment([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitSegment(msg)\n                })\n                dataService.transmit_stage_summarization([_this.data_group1, _this.data_group2], (msg) => {\n                    //console.log(\"transmit_stage_summarization\", msg)\n                    pipeService.emitStage([_this.active_k, _this.passive_k, msg])\n                })\n                dataService.transmit_pattern([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitPattern(msg)\n                })\n                dataService.transmit_path([_this.data_group1, _this.data_group2], (msg) => {\n                    pipeService.emitPath(msg)\n                })\n            })\n        },\n        boxplot: function () {\n            const _this = this\n            if (_this.boxplot == 1) {\n                $(\".boxplot\").attr(\"fill\", _this.distribution_color)\n                $(\".distribution.boxplot\").attr(\"visibility\", \"visible\")\n            } else {\n                $(\".boxplot\").attr(\"fill\", _this.background_color)\n                $(\".distribution.boxplot\").attr(\"visibility\", \"hidden\")\n            }\n        },\n        // active_k: function () {\n        //     const _this = this\n        //     $(\".kvalue.0\").text(_this.active_k)\n        //     dataService.transmit_k([_this.data_group1, _this.data_group2, _this.active_k, _this.passive_k], (data) => {\n        //         $(\".distribution.content.0\").remove()\n        //         $(\".distribution.boundingbox.0\").remove()\n        //         $(\".distribution.axis\").remove()\n        //         //$(\".passive.cluster.name\").remove()\n        //         $(\".active.cluster.name\").remove()\n        //         _this.drawClusterDistribution(0, data[0], _this.active_x, _this.active_y)\n        //         // dataService.transmit_segment(\"1\", (msg) => {\n        //         //     _this.pipeService.emitSegment(msg)\n        //         // })\n        //         // dataService.transmit_stage_summarization(\"1\", (msg) => {\n        //         //     _this.pipeService.emitStage([_this.active_k, _this.passive_k, msg])\n        //         // })\n        //     })\n        // },\n        // passive_k: function () {\n        //     const _this = this\n        //     //console.log(\"passive\", _this.passive_k)\n        //     $(\".kvalue.1\").text(_this.passive_k)\n        //     dataService.transmit_k([_this.data_group1, _this.data_group2, _this.data_group1, _this.data_group2, _this.active_k, _this.passive_k], (data) => {\n        //         $(\".distribution.content.1\").remove()\n        //         $(\".distribution.boundingbox.1\").remove()\n        //         $(\".distribution.axis\").remove()\n        //         $(\".passive.cluster.name\").remove()\n        //         //$(\".active.cluster.name\").remove()\n        //         _this.drawClusterDistribution(1, data[1], _this.passive_x, _this.passive_y)\n        //         // dataService.transmit_segment(\"1\", (msg) => {\n        //         //     _this.pipeService.emitSegment(msg)\n        //         // })\n        //         // dataService.transmit_stage_summarization(\"1\", (msg) => {\n        //         //     _this.pipeService.emitStage([_this.active_k, _this.passive_k, msg])\n        //         // })\n        //     })\n        // },\n    },\n    mounted: function () {\n        const _this = this\n        _this.drawLegend()\n        _this.drawKInput()\n        pipeService.onDataset(function (data) {\n            _this.data_group1 = data[0]\n            _this.data_group2 = data[1]\n        })\n        dataService.transmit_depression([_this.data_group1, _this.data_group2], (data) => {\n            _this.drawDepressionDistribution(data)\n        })\n        dataService.transmit_k([_this.data_group1, _this.data_group2, _this.active_k, _this.passive_k], (data) => {\n            _this.drawClusterDistribution(0, data[0], _this.active_x, _this.active_y)\n            _this.drawClusterDistribution(1, data[1], _this.passive_x, _this.passive_y)\n            dataService.transmit_segment([_this.data_group1, _this.data_group2], (msg) => {\n                pipeService.emitSegment(msg)\n            })\n            dataService.transmit_stage_summarization([_this.data_group1, _this.data_group2], (msg) => {\n                //console.log(\"transmit_stage_summarization\", msg)\n                pipeService.emitStage([_this.active_k, _this.passive_k, msg])\n            })\n            dataService.transmit_pattern([_this.data_group1, _this.data_group2], (msg) => {\n                pipeService.emitPattern(msg)\n            })\n            dataService.transmit_path([_this.data_group1, _this.data_group2], (msg) => {\n                pipeService.emitPath(msg)\n            })\n        })\n        $(\".active.\" + _this.active_k).css(\"fill\", \"red\")\n        $(\".passive.\" + _this.passive_k).css(\"fill\", \"red\")\n        pipeService.onAP(function (ap_list) {\n            for (let i = 1; i < _this.active_k + 1; i++) {\n                if (ap_list.includes(('a' + i))) {\n                    $('.bg.a' + i).attr(\"visibility\", \"visable\")\n                } else {\n                    $('.bg.a' + i).attr(\"visibility\", \"hidden\")\n                }\n\n            }\n            for (let i = 1; i < _this.passive_k + 1; i++) {\n                if (ap_list.includes(('p' + i))) {\n                    $('.bg.p' + i).attr(\"visibility\", \"visable\")\n                } else {\n                    $('.bg.p' + i).attr(\"visibility\", \"hidden\")\n                }\n\n            }\n        })\n    },\n    methods: {\n        drawLegend() {\n            const _this = this\n            const svg = d3.select(\".behaviorviewheader\")\n                .append(\"svg\")\n                .attr(\"width\", 110)\n                .attr(\"height\", 20)\n\n            let g_legend = svg.append('g')\n\n            g_legend.append(\"rect\")\n                .attr(\"x\", 13)\n                .attr(\"y\", 3)\n                .attr(\"width\", 10)\n                .attr(\"height\", 10)\n                .attr(\"fill\", _this.background_color)\n                .attr(\"stroke\", \"black\")\n                .on(\"click\", function () {\n                    _this.boxplot = 1 - _this.boxplot\n                })\n                .attr(\"class\", \"boxplot\")\n\n            g_legend.append(\"text\")\n                .attr(\"x\", 27)\n                .attr(\"y\", 12)\n                .attr(\"font-size\", 13)\n                .text(\"boxplot\")\n\n            g_legend.append(\"circle\")\n                .attr(\"cx\", 104)\n                .attr(\"cy\", 7)\n                .attr(\"r\", 5)\n                .attr(\"fill\", \"white\")\n                .attr(\"stroke\", \"red\")\n                .on(\"mouseover\", function() {\n                    $(\".prompt_1\").attr(\"visibility\", \"visible\"); \n                })\n                .on(\"mouseout\", function() {\n                    $(\".prompt_1\").attr(\"visibility\", \"hidden\");  \n                });\n\n            g_legend.append(\"text\")\n                .attr(\"x\", 101)\n                .attr(\"y\", 10)\n                .attr(\"font-size\", 8)\n                .text(\"?\")\n                .attr(\"fill\", \"#bc4b51\")\n                .on(\"mouseover\", function() {\n                    $(\".prompt_1\").attr(\"visibility\", \"visible\"); \n                })\n                .on(\"mouseout\", function() {\n                    $(\".prompt_1\").attr(\"visibility\", \"hidden\");  \n                });\n        },\n        getMaxOfArray(numArray) {\n            return Math.max.apply(null, numArray);\n        },\n        getMinOfArray(numArray) {\n            return Math.min.apply(null, numArray);\n        },\n        drawDepressionDistribution(data) {\n            console.log(data)\n            const _this = this\n            const width = 270\n            const height = 170\n            const svg_depression = d3.select(\".svg\").append('g').attr(\"transform\", \"translate(0, 30)\").attr(\"class\", \"depressiondistribution\")\n\n            const svg_title = d3.select(\".svg\").append('g').attr(\"class\", \"depressiondistribution\")\n\n            //\n            let g_prompt = d3.select(\".svg\").append('g')\n                .attr(\"width\", 250)\n                .attr(\"height\", 80)\n                .attr(\"class\", \"prompt_1\")\n                .attr(\"visibility\", \"hidden\")\n                .attr(\"transform\", \"translate(5, 40)\")\n            \n            let rect = g_prompt.append('rect')\n                .attr('width', 290)  \n                .attr('height', 90)  \n                .attr('fill', 'white')  \n                .attr('stroke', 'black')\n                .attr('x', 0)  \n                .attr('y', 0);\n            \n            let text = g_prompt.append('text')\n                .attr('x', 10) \n                .attr('y', 15) \n                .attr('fill', 'black')\n                .attr('font-size', '12px')\n            \n            text.append('tspan')\n                .text('The matrix design is used to display behavior types.')\n                .attr('x', 10) \n                .attr('y', 30) \n            \n            text.append('tspan')\n                .text('Each row represents a behavior type (e.g., p1),')\n                .attr('x', 10) \n                .attr('y', 45) \n\n            text.append('tspan')\n                .text('which consists of multiple behavior variables')\n                .attr('x', 10) \n                .attr('y', 60) \n\n            text.append('tspan')\n                .text('with different values.')\n                .attr('x', 10) \n                .attr('y', 75) \n\n            svg_title.append(\"text\")\n                .attr(\"x\", 5)\n                .attr(\"y\", 20)\n                .attr(\"font-size\", 15)\n                .text(\"depression\")\n\n            // \n            const freq1 = {};\n            for (let i = 0; i < data[0].length; i++) {\n                const key = data[0][i];\n                freq1[key] = (freq1[key] || 0) + 1;\n            }\n            const freq2 = {};\n            for (let i = 0; i < data[1].length; i++) {\n                const key = data[1][i];\n                freq2[key] = (freq2[key] || 0) + 1;\n            }\n            // \n            let dataArray1 = Object.entries(freq1).map(d => [+d[0], d[1]]);\n            let dataArray2 = Object.entries(freq2).map(d => [+d[0], d[1]]);\n\n            const bin = 0.3\n\n            dataArray1.sort((a, b) => a[0] - b[0])\n            dataArray2.sort((a, b) => a[0] - b[0])\n\n            dataArray1 = dataArray1.reduce((acc, curr) => {\n                const lastBin = acc.length > 0 ? acc[acc.length - 1][0] : null;\n                if (lastBin !== null && curr[0] <= lastBin + bin) {\n                    acc[acc.length - 1][1] += curr[1];\n                } else {\n                    acc.push([Math.floor(curr[0] / bin) * bin, curr[1]]);\n                }\n                return acc;\n            }, []);\n\n            dataArray2 = dataArray2.reduce((acc, curr) => {\n                const lastBin = acc.length > 0 ? acc[acc.length - 1][0] : null;\n                if (lastBin !== null && curr[0] <= lastBin + bin) {\n                    acc[acc.length - 1][1] += curr[1];\n                } else {\n                    acc.push([Math.floor(curr[0] / bin) * bin, curr[1]]);\n                }\n                return acc;\n            }, []);\n\n            let x = d3.scaleLinear().domain([0.85, d3.max(dataArray1.length > dataArray2.length ? dataArray1 : dataArray2, d => d[0])]).range([20, width]);\n            let y = d3.scaleLinear().domain([0, d3.max(dataArray1, d => d[1])]).range([height, 0]);\n\n            let area1 = d3.area().x(d => x(d[0])).y0(height).y1(d => y(d[1])).curve(d3.curveBasis);\n            let area2 = d3.area().x(d => x(d[0])).y0(height).y1(d => y(d[1])).curve(d3.curveBasis);\n\n            // \n            svg_depression.append(\"defs\")\n                .append(\"pattern\")\n                .attr(\"id\", \"diagonal-stripe\")\n                .attr(\"patternUnits\", \"userSpaceOnUse\")\n                .attr(\"width\", 5)\n                .attr(\"height\", 5)\n                .append(\"path\")\n                .attr(\"d\", \"M-1,1 l2,-2 M0,5 l5,-5 M9,11 l2,-2\")\n                .attr(\"stroke\", _this.worse_distribution_color)\n                .attr(\"stroke-width\", 1)\n\n            svg_depression.append(\"path\")\n                .datum(dataArray1)\n                .attr(\"fill\", _this.distribution_color)\n                .attr(\"d\", area1)\n                .attr(\"opacity\", 0.5)\n                .attr(\"stroke\", \"black\")\n\n            svg_depression.append(\"path\")\n                .datum(dataArray2)\n                .attr(\"fill\", _this.distribution_color)\n                .attr(\"d\", area2)\n                .attr(\"opacity\", 0.5)\n                .attr(\"stroke\", \"black\")\n                .attr(\"fill\", \"url(#diagonal-stripe)\")\n\n\n            // legend\n            let svg_legend = svg_depression.append('g')\n            svg_legend.append('rect')\n                .attr(\"x\", 230)\n                .attr(\"y\", 10)\n                .attr(\"height\", 10)\n                .attr(\"width\", 10)\n                .attr(\"fill\", _this.distribution_color)\n                .attr(\"stroke\", \"black\")\n                .attr(\"opacity\", 0.5)\n\n            svg_legend.append('text')\n                .attr(\"x\", 245)\n                .attr(\"y\", 18)\n                .attr(\"font-size\", 12)\n                .text(\"group1\")\n\n            svg_legend.append('rect')\n                .attr(\"x\", 230)\n                .attr(\"y\", 30)\n                .attr(\"height\", 10)\n                .attr(\"width\", 10)\n                .attr(\"fill\", \"url(#diagonal-stripe)\")\n\n            svg_legend.append('rect')\n                .attr(\"x\", 230)\n                .attr(\"y\", 30)\n                .attr(\"height\", 10)\n                .attr(\"width\", 10)\n                .attr(\"fill\", _this.distribution_color)\n                .attr(\"stroke\", \"black\")\n                .attr(\"opacity\", 0.5)\n\n            svg_legend.append('text')\n                .attr(\"x\", 245)\n                .attr(\"y\", 38)\n                .attr(\"font-size\", 12)\n                .text(\"group2\")\n            let xt = 3\n            svg_legend.append('rect')\n                .attr(\"x\", 241 - xt)\n                .attr(\"y\", 200)\n                .attr(\"height\", 10)\n                .attr(\"width\", 27)\n                .attr(\"fill\", 'none')\n                .attr(\"stroke\", \"black\")\n                .attr(\"opacity\", 0.5)\n\n            svg_legend.append('rect')\n                .attr(\"x\", 254 - xt)\n                .attr(\"y\", 200)\n                .attr(\"height\", 10)\n                .attr(\"width\", 2)\n                .attr(\"fill\", 'black')\n                .attr(\"stroke\", \"black\")\n                .attr(\"opacity\", 0.4)\n\n            svg_legend.append('text')\n                .attr(\"x\", 220 - xt)\n                .attr(\"y\", 210)\n                .attr(\"font-size\", 12)\n                .text(\"low\")\n\n            svg_legend.append('text')\n                .attr(\"x\", 270 - xt)\n                .attr(\"y\", 210)\n                .attr(\"font-size\", 12)\n                .text(\"high\")\n\n            var formatK = d3.format(\"d\")\n\n            //  X \n            svg_depression.append(\"g\")\n                .attr(\"transform\", \"translate(0,\" + height + \")\")\n                .call(d3.axisBottom(x).ticks(5));\n\n            //  Y \n            svg_depression.append(\"g\").attr(\"transform\", \"translate(25, 0)\")\n                .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                    return formatK(d / 1000) + 'k'\n                }))\n        },\n        drawEachBoxplot(flag, data, svg, y_start, y1, yheight, xscale, xwidth) {\n            const _this = this\n            // nx_startx_endattribute\n            // data\n            let key = Object.keys(data[0])\n            for (let t = 0; t < key.length; t++) {\n                //attribute\n                if (flag == 0) {\n                    svg.append(\"text\")\n                        .attr(\"x\", xscale(t) + _this.x_deviation[key[t]])\n                        .attr(\"y\", y_start - 20)\n                        .attr(\"font-size\", 11)\n                        .text(key[t])\n                        .attr(\"opacity\", 0.3)\n                } else {\n                    svg.append(\"text\")\n                        .attr(\"x\", xscale(t) + _this.x_deviation[key[t]])\n                        .attr(\"y\", y_start - 20)\n                        .attr(\"font-size\", 10)\n                        .text(key[t])\n                        .attr(\"opacity\", 0.3)\n                }\n\n                let height = yheight - 5\n                let data_temp = data.map(obj => { return obj[key[t]] })\n\n                //\n                for (let p = 0; p < data_temp.length; p++) {\n                    if (data_temp[p] > _this.min_max_list[key[t]][1]) {\n                        data_temp[p] = _this.min_max_list[key[t]][1]\n                    }\n                }\n\n                var data_sorted = data_temp.sort(d3.ascending)\n                var q1 = d3.quantile(data_sorted, .25)\n                var median = d3.quantile(data_sorted, .5)\n                var q3 = d3.quantile(data_sorted, .75)\n                if (median == q1 || median == q3) {\n                    median = (q1 + q3) / 2\n                }\n                var interQuantileRange = q3 - q1\n                var min = q1 - 1.5 * interQuantileRange\n                var max = q1 + 1.5 * interQuantileRange\n\n                // ****************************\n                if (min < _this.min_max_list[key[t]][0]) { //\n                    min = _this.min_max_list[key[t]][0]\n                }\n                if (max > _this.min_max_list[key[t]][1]) {\n                    max = _this.min_max_list[key[t]][1]\n                }\n                // *********************************************\n\n                var center = y1 + height / 2//\n\n                var xscale_temp = d3.scaleLinear()\n                    .range([xscale(t) + 6, xscale(t) + xwidth - 6])\n                    .domain([_this.min_max_list[key[t]][0], _this.min_max_list[key[t]][1]])\n\n                // q1, median, q3, max != -1\n\n                //max, min2\n                var x1_line = xscale_temp(min)\n                var x2_line = xscale_temp(max)\n                if (max - min < _this.min_max_list[key[t]][1] * 0.1) {\n                    if (min == _this.min_max_list[key[t]][0]) {\n                        x2_line = xscale_temp(max) + 2\n                    } else {\n                        x1_line = xscale_temp(min) - 2\n                    }\n                }\n\n                var g_boxplot_control = svg.append('g')\n                    .attr(\"width\", 100)\n                    .attr(\"height\", 200)\n                    .attr(\"class\", \"distribution boxplot \" + flag)\n                    .attr(\"visibility\", \"hidden\")\n\n                var g_boxplot = svg.append('g')\n                    .attr(\"width\", 100)\n                    .attr(\"height\", 200)\n                    .attr(\"class\", \"distribution content \" + flag)\n\n                if (max != -1) {\n                    // show median horizontal lines\n                    g_boxplot.selectAll(\"toto\")\n                        .data([xscale_temp(median)])\n                        .enter()\n                        .append(\"line\")\n                        .attr(\"x1\", function (d) { return d })\n                        .attr(\"x2\", function (d) { return d })\n                        .attr(\"y1\", y1)\n                        .attr(\"y2\", y1 + height)\n                        .attr(\"stroke\", _this.median_color)\n                        .attr(\"stroke-width\", 3)\n                        .attr(\"opacity\", 0.5)\n                    //\n                    g_boxplot_control.append(\"line\")\n                        .attr(\"x1\", x1_line)\n                        .attr(\"x2\", x2_line)\n                        .attr(\"y1\", center)\n                        .attr(\"y2\", center)\n                        .attr(\"stroke\", _this.boundingbox_color)\n\n                    // Show the box\n                    g_boxplot_control.append(\"rect\")\n                        .attr(\"x\", xscale_temp(q1))\n                        .attr(\"y\", y1 + height / 3)\n                        .attr(\"height\", height / 3)\n                        .attr(\"width\", function () {\n                            if (xscale_temp(q3) - xscale_temp(q1) == 0) {\n                                return 2\n                            } else {\n                                return xscale_temp(q3) - xscale_temp(q1)\n                            }\n                        })\n                        .attr(\"stroke\", _this.boundingbox_color)\n                        .style(\"fill\", _this.box_color)\n\n                    // show min and max horizontal lines\n                    g_boxplot_control.selectAll(\"toto\")\n                        .data([x1_line, x2_line])\n                        .enter()\n                        .append(\"line\")\n                        .attr(\"x1\", function (d) { return d })\n                        .attr(\"x2\", function (d) { return d })\n                        .attr(\"y1\", y1 + height / 3)\n                        .attr(\"y2\", y1 + height / 3 * 2)\n                        .attr(\"stroke\", _this.boundingbox_color)\n                } else {\n                    g_boxplot.append(\"line\")\n                        .attr(\"x1\", xscale(t) + 6)\n                        .attr(\"x2\", xscale(t) + xwidth - 6)\n                        .attr(\"y1\", center)\n                        .attr(\"y2\", center)\n                        .attr(\"stroke\", _this.boundingbox_color)\n                        .attr(\"stroke-dasharray\", \"3, 5\")\n                }\n\n                // \n                svg.append(\"rect\")\n                    .attr(\"x\", xscale(t))\n                    .attr(\"y\", y1)\n                    .attr(\"width\", xwidth - 2)\n                    .attr(\"height\", height)\n                    .attr(\"opacity\", 0.2)\n                    .style(\"stroke\", _this.normal_color)\n                    .style(\"fill\", \"none\")\n                    .attr(\"class\", \"distribution boundingbox \" + flag)\n            }\n        },\n        drawEachDistribution(flag, data, svg, y_start, y1, yheight, xscale, xwidth) {\n            const _this = this\n            // nx_startx_endattribute\n            let key = Object.keys(data[0])\n            //console.log(key)\n            for (let t = 0; t < key.length; t++) {\n                //attribute\n                if (flag == 0) {\n                    svg.append(\"text\")\n                        .attr(\"x\", xscale(t) + (10 - key[t].length) / 0.5 + 8)\n                        .attr(\"y\", y_start - 20)\n                        .attr(\"font-size\", 7)\n                        .text(key[t])\n                } else {\n                    svg.append(\"text\")\n                        .attr(\"x\", xscale(t) + (10 - key[t].length) / 0.5 + 15)\n                        .attr(\"y\", y_start - 20)\n                        .attr(\"font-size\", 7)\n                        .text(key[t])\n                }\n\n                let height = yheight - 5\n                let data_temp = data.map(obj => { return obj[key[t]] })\n                //console.log(key[t], _this.getMinOfArray(data_temp), _this.getMaxOfArray(data_temp))\n                var x = d3.scaleLinear().domain([_this.min_max_list[key[t]][0], _this.min_max_list[key[t]][1]]).range([xscale(t) + 5, xscale(t) + xwidth - 5])\n                var bins = d3.histogram().domain(x.domain()).thresholds(x.ticks(30))(data_temp)\n                var max = d3.max(bins, function (d) { return d.y })\n                var y = d3.scaleLinear().domain([0, .1]).range([y1, y1 + 30])\n                var yForHistogram = d3.scaleLinear()\n                    .domain([0, d3.max(bins, function (d) {\n                        return d.length\n                    })])\n                    .range([height, 0])\n\n                // attribute\n                var axis = d3.axisTop(x).ticks(3).tickSizeOuter(3).tickSizeInner(1)\n                svg.append(\"g\")\n                    .attr(\"transform\", \"translate(0,\" + (y_start - 10) + \")\")\n                    .call(axis)\n                    .style(\"font-size\", \"5px\")\n                    .attr(\"class\", \"distribution axis\")\n\n                for (let p = 0; p < bins.length; p++) {\n                    svg.append(\"rect\")\n                        .attr(\"x\", x(bins[p].x0))\n                        .attr(\"y\", yForHistogram(bins[p].length) + y1)\n                        .attr(\"fill\", _this.distribution_color)\n                        .attr(\"width\", x(bins[0].x1) - x(bins[0].x0))\n                        .attr(\"height\", function (d) {\n                            return height - yForHistogram(bins[p].length)\n                        })\n                        .attr(\"class\", \"distribution content\")\n                }\n                svg.append(\"rect\")\n                    .attr(\"x\", xscale(t))\n                    .attr(\"y\", y1)\n                    .attr(\"width\", xwidth - 2)\n                    .attr(\"height\", height)\n                    .attr(\"opacity\", 0.3)\n                    .style(\"stroke\", _this.normal_color)\n                    .style(\"fill\", \"none\")\n                    .attr(\"class\", \"distribution boundingbox\")\n            }\n        },\n        drawClusterDistribution(flag, data, x_start, y_start) {\n            let attribute_number = data[0][0].length\n            let cluster_number = data.length\n            const _this = this\n            const svg_distribution = d3.select(\".svg\").append(\"g\").attr(\"class\", \"clusterdistribution\")\n\n            var attributes = [];\n            for (let i = 0; i < attribute_number; i++) {\n                attributes.push(i);\n            }\n\n            const xscale = d3.scaleBand()\n                .range([x_start - 10, x_start + 240])\n                .domain(attributes)\n\n            var clusters = [];\n            for (let i = 0; i < cluster_number; i++) {\n                clusters.push(i);\n            }\n\n            const yscale = d3.scaleBand()\n                .range([y_start - 15, y_start + 170])\n                .domain(clusters)\n\n            var people_sum = 0\n            for (let i = 0; i < cluster_number; i++) {\n                people_sum = people_sum + data[i].length\n            }\n\n            // \n            if (flag == 0) {\n                svg_distribution.append(\"text\")\n                    .attr(\"x\", x_start + 175)\n                    .attr(\"y\", 20)\n                    .attr(\"font-size\", 15)\n                    .text(\"sum : \" + people_sum)\n                    .attr(\"class\", \"active cluster name\")\n            }\n\n            if (flag == 0) {\n                //\n                for (let i = 0; i < cluster_number; i++) {\n                    //cluster\n                    //console.log(x_start, yscale[i], clusters)\n                    svg_distribution.append(\"rect\")\n                        .attr(\"x\", x_start - 29)\n                        .attr(\"y\", yscale(i) - 3)\n                        .attr(\"height\", yscale(1) - yscale(0) - 10)\n                        .attr(\"width\", 296)\n                        .attr(\"class\", \"bg a\" + (i + 1))\n                        .attr(\"fill\", _this.stroke_color)\n                        .attr(\"opacity\", 0.08)\n                        .attr(\"visibility\", \"hidden\")\n\n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start - 28)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 + 5)\n                        .attr(\"font-size\", 13)\n                        .text(\"p\" + (i + 1))\n                        .attr(\"class\", \"active cluster name\")\n\n                    let data_temp = []\n                    for (let j = 0; j < data[i].length; j++) {\n                        data_temp.push({\n                            \"Fre(post)\": data[i][j][0],\n                            \"interval\": data[i][j][1],\n                            \"sought IS\": data[i][j][2],\n                            \"sought ES\": data[i][j][3],\n                            \"toxicity\": data[i][j][4]\n                        })\n                    }\n                    // \n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start + 248)\n                        .attr(\"y\", 280)\n                        .attr(\"font-size\", 10)\n                        .text(\"%\")\n                        .attr(\"class\", \"active cluster name\")\n\n                    svg_distribution.append(\"rect\")\n                        .attr(\"x\", x_start + 240)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 - 6)\n                        .attr(\"width\", 25)\n                        .attr(\"height\", 12)\n                        .attr(\"fill\", _this.number_color)\n                        .style(\"stroke\", \"none\")\n                        .style(\"opacity\", 0.5)\n                        .attr(\"class\", \"active cluster name\")\n\n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start + 240)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 + 4)\n                        .attr(\"font-size\", 10)\n                        .text((data_temp.length / people_sum).toFixed(3))\n                        .attr(\"class\", \"active cluster name\")\n\n                    _this.drawEachBoxplot(0, data_temp, svg_distribution, y_start, yscale(i), 130 / cluster_number, xscale, 250 / attribute_number)\n                }\n            } else {\n                for (let i = 0; i < cluster_number; i++) {\n                    //cluster\n                    // console.log(x_start, yscale[i], clusters)\n                    svg_distribution.append(\"rect\")\n                        .attr(\"x\", x_start - 28)\n                        .attr(\"y\", yscale(i) - 3)\n                        .attr(\"height\", yscale(1) - yscale(0) - 10)\n                        .attr(\"width\", 300)\n                        .attr(\"class\", \"bg p\" + (i + 1))\n                        .attr(\"fill\", _this.stroke_color)\n                        .attr(\"opacity\", 0.08)\n                        .attr(\"visibility\", \"hidden\")\n\n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start - 28)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 + 5)\n                        .attr(\"font-size\", 13)\n                        .text(\"r\" + (i + 1))\n\n                    let data_temp = []\n                    for (let j = 0; j < data[i].length; j++) {\n                        data_temp.push({\n                            \"Num(response)\": data[i][j][3],\n                            \"Time(response)\": data[i][j][0],\n                            \"received IS\": data[i][j][1],\n                            \"received ES\": data[i][j][2],\n                        })\n                    }\n\n                    //\n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start + 248)\n                        .attr(\"y\", 510)\n                        .attr(\"font-size\", 10)\n                        .text(\"%\")\n                        .attr(\"class\", \"passive cluster name\")\n\n                    svg_distribution.append(\"rect\")\n                        .attr(\"x\", x_start + 240)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 - 6)\n                        .attr(\"width\", 25)\n                        .attr(\"height\", 12)\n                        .attr(\"fill\", _this.number_color)\n                        .style(\"stroke\", \"none\")\n                        .style(\"opacity\", 0.5)\n                        .attr(\"class\", \"passive cluster name\")\n\n                    svg_distribution.append(\"text\")\n                        .attr(\"x\", x_start + 240)\n                        .attr(\"y\", yscale(i) + 100 / cluster_number / 2 + 4)\n                        .attr(\"font-size\", 10)\n                        .text((data_temp.length / people_sum).toFixed(3))\n                        .attr(\"class\", \"passive cluster name\")\n                    _this.drawEachBoxplot(1, data_temp, svg_distribution, y_start, yscale(i), 130 / cluster_number, xscale, 250 / attribute_number)\n                }\n            }\n        },\n        drawTitle(flag, text, svg, x_start, y_start) {\n            const _this = this\n            //\n\n            svg.append(\"text\")\n                .attr(\"x\", function () {\n                    if (flag == 0) {\n                        return x_start - 13\n                    } else {\n                        return x_start - 15\n                    }\n                })\n                .attr(\"y\", y_start + 3)\n                .attr(\"font-size\", 15)\n                .text(text)\n\n            // \n            svg.append(\"text\")\n                .attr(\"x\", function () {\n                    if (flag == 0) {\n                        return x_start + 46\n                    } else {\n                        return x_start + 42\n                    }\n                })\n                .attr(\"y\", y_start + 3)\n                .attr(\"font-size\", 15)\n                .text(\":\")\n\n            //k\n\n            svg.append(\"text\")\n                .attr(\"x\", x_start + 50)\n                .attr(\"y\", y_start + 4)\n                .attr(\"font-size\", 15)\n                .text(function () {\n                    if (flag == 0) {\n                        return _this.active_k\n                    } else {\n                        return _this.passive_k\n                    }\n                })\n                .attr(\"class\", \"kvalue \" + flag)\n\n            const slider = sliderBottom()\n                .ticks(0)\n                .min(1).max(10)\n                .step(1).width(150)\n                .handle(d3.symbol().type(d3.symbolCircle).size(100)())\n                .displayValue(false)\n                .on('onchange', (value) => {\n                    if (flag == 0) {\n                        _this.active_k = value\n                    } else {\n                        _this.passive_k = value\n                    }\n                })\n                .default(5)\n                .fill([_this.slider_color])\n\n            const g = svg\n                .append('g')\n                .attr('transform', \"translate(90,\" + (y_start) + \")\");\n\n            g.call(slider)\n        },\n        drawKInput() {\n            const _this = this\n            const svg_select = d3.select(\".behaviorviewbody\")\n                .append(\"svg\")\n                .attr(\"width\", 300)\n                .attr(\"height\", 750)\n                .append(\"g\")\n                .attr(\"class\", \"svg\")\n\n            // \n            _this.drawTitle(0, \"proactive\", svg_select, 20, 250)\n            // \n            _this.drawTitle(1, \"reactive\", svg_select, 20, 480)\n        }\n    }\n\n}"]}]}